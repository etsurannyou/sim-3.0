(()=>{"use strict";var t={10:(t,s,i)=>{var e=i(434),h=i(520),a=i(297);class o{constructor(){var t,s,i;this.terminal_element=(0,e.qs)(".terminal"),this.output_container=(0,e.qs)(".terminalOutputs"),this.input=(0,e.qs)(".terminalInput"),this.history=JSON.parse(null!==(t=localStorage.getItem("terminalHistory"))&&void 0!==t?t:"[]"),this.historyIndex=this.history.length;const h=JSON.parse(null!==(s=localStorage.getItem("terminalSize"))&&void 0!==s?s:'{"width": "700px", "height":"400px"}');this.terminal_element.style.width=h.width,this.terminal_element.style.height=h.height,this.terminal_element.style.display="block";const a=JSON.parse(null!==(i=localStorage.getItem("terminalPos"))&&void 0!==i?i:'{"top": "0px", "left":"0px"}');this.terminal_element.style.top=a.top,this.terminal_element.style.left=a.left}parseInput(){const t=this.input.value;return this.input.value="",this.updateHistory(t),this.writeLine(t,!0),t}writeLine(t,s=!1){if(0===(t=(t=(t=t.replace(/script/g,"/script/")).replace(/[(]/g,"/(/")).replace(/[)]/g,"/)/")).length)return;t=(t=(t=(t=t.replace(/<r>/g,'<span style="color:red; font-weight:bold">')).replace(/<\/r>/g,"</span>")).replace(/<g>/g,'<span style="color:rgb(34, 211, 34); font-weight:bold">')).replace(/<\/g>/g,"</span>");const i=(0,e.ce)("div");if(s){const t=(0,e.ce)("span");t.innerText=">",t.style.marginRight="1rem",t.style.userSelect="none",i.appendChild(t),i.style.marginBlock="0.3em"}const h=(0,e.ce)("span");h.classList.add("output"),h.innerHTML=t,i.appendChild(h),this.output_container.appendChild(i),(0,e.qs)(".terminalOutputWrapper").scroll({top:1e8})}deleteLine(){this.output_container.lastChild&&this.output_container.lastChild.remove()}clearTerminal(){for(;this.output_container.firstChild;)this.output_container.firstChild.remove()}updateHistory(t){this.history=this.history.filter((s=>s!==t)),t.length>0&&"c"!==t&&this.history.push(t),this.historyIndex=this.history.length,localStorage.setItem("terminalHistory",JSON.stringify(this.history.slice(Math.max(0,this.history.length-20),this.history.length)))}getHistory(t){(this.historyIndex>0||1===t)&&(this.historyIndex<this.history.length-1||-1===t)&&(this.historyIndex+=t),this.history.length>0&&(this.input.value=this.history[this.historyIndex]);const s=this.input.value.length;setTimeout((()=>{this.input.setSelectionRange(s,s),this.input.focus()}),0)}}var r=function(t,s,i,e){return new(i||(i=Promise))((function(h,a){function o(t){try{l(e.next(t))}catch(t){a(t)}}function r(t){try{l(e.throw(t))}catch(t){a(t)}}function l(t){var s;t.done?h(t.value):(s=t.value,s instanceof i?s:new i((function(t){t(s)}))).then(o,r)}l((e=e.apply(t,s||[])).next())}))};if("true"===localStorage.getItem("dev")){const l=new o;let n=localStorage.getItem("customVal");null!==n&&b([n]),(0,e.B)(l.input,"keydown",(t=>{"Enter"===t.key&&v(l.parseInput()),"ArrowUp"===t.key&&l.getHistory(-1),"ArrowDown"===t.key&&l.getHistory(1)}));let u={x:0,y:0},c=null;function v(t){return r(this,void 0,void 0,(function*(){const s=(t=t.slice(Math.max(0,t.split("").findIndex((t=>" "!==t))),t.length)).split("").findIndex((t=>" "===t)),[i,e]=[-1===s?t:t.slice(0,s),-1===s?[""]:t.slice(s+1,t.length).replace(/ /g,"").split(",")];try{switch(i){case"c":case"clear":p(e[0]);break;case"r":case"rs":case"resize":m(e);case"sim":d(e);break;case"v":case"val":case"value":b(e);break;case"":break;default:l.writeLine(`Function name "${i}" does not exist.`)}}catch(t){l.writeLine(`<r>Error:</r> ${t}`)}}))}function p(t){const s=["a","all"].findIndex((s=>s===t))>-1;l.clearTerminal(),s&&console.clear()}function m(t){var s;if(""===t[0]&&1===t.length)throw"At least one parameter is required.";const i=parseFloat(t[0]),e=parseFloat(t[1]),h="d"===t[0]?{width:"700px",height:"400px"}:JSON.parse(null!==(s=localStorage.getItem("terminalSize"))&&void 0!==s?s:'{"width": "700px", "height":"400px"}');isNaN(i)||(h.width=`${i<5?l.terminal_element.clientWidth*i:i}px`),isNaN(e)||(h.height=`${e<5?l.terminal_element.clientHeight*e:e}px`),l.terminal_element.style.width=h.width,l.terminal_element.style.height=h.height,localStorage.setItem("terminalSize",JSON.stringify(h)),l.writeLine(`Resized terminal to <g>${h.width}</g> | <g>${h.height}</g>.`)}function b(t){let s=t.join(",");"g"===s?l.writeLine(`Value of global.customVal is <g>${JSON.stringify(h.C.customVal)}</g>.`):(h.C.customVal=JSON.parse(s),localStorage.setItem("customVal",s),l.writeLine(`Sucsessfully set global.customVal to <g>${s}</g>.`))}function d(t){return r(this,void 0,void 0,(function*(){let s=performance.now();const i=function(t){if(t.length<3)throw"At least 3 parameters [strat, sigma, start rho] required.";const s={theory:"T1",strat:"",sigma:"",rho:"",cap:"",mode:"Single sim",modeInput:"",simAllInputs:[!0,!0],timeDiffInputs:[],hardCap:!1},i=(t=t.map((t=>t.replace(/ /g,""))))[0].slice(0,2).toLowerCase(),h=t[0].slice(2,t[0].length);if(["bo","ba","bs","bi"].includes(i))switch(s.theory=/[1-8]/.test(h)?(0,e.k7)(parseInt(h)-1):h.toUpperCase(),i){case"bo":s.strat="Best Overall";break;case"ba":s.strat="Best Active";break;case"bs":s.strat="Best Semi-Idle";break;case"bi":s.strat="Best Idle"}else{let i=-1;for(let h=0;h<Object.keys(a.Jp).length;h++)new RegExp((0,e.k7)(h)).test(t[0].toUpperCase())&&(s.theory=(0,e.k7)(h),i=h);for(let h=0;h<Object.keys(a.Jp[(0,e.k7)(i)].strats).length;h++){const o=Object.keys(a.Jp[(0,e.k7)(i)].strats)[h];t[0].toLowerCase()===o.toLowerCase()&&(s.strat=o)}}if(s.sigma=t[1],/[+=]/.test(t[2])){const i=t[2].split("+=");s.rho=i[0],s.modeInput=i[1],s.mode="Steps"}else s.rho=t[2];return t.length>3&&0!==t[3].length&&(s.cap=t[3],s.mode="Single sim"===s.mode?"Chain":s.mode),s}(t);yield(0,e._v)();let o=yield(0,h.m)(i);h.C.simulating=!1,"string"==typeof o||null===o?(l.writeLine(JSON.stringify(o)),console.error(o)):(w(o,i),l.writeLine(`Sim finished sucsessfully in <g>${((performance.now()-s)/1e3).toFixed(3)}s</g>.`))}))}function w(t,s){if("Single sim"===s.mode)l.writeLine(`${t[0][1]} | ${t[0][2]} | ${t[0][3]} | ${t[0][5]} | ${t[0][6]} | ${t[0][7]} | ${t[0][8]}`);else if("Chain"===s.mode){const i=t.length-1;l.writeLine(`${s.strat} | ${s.sigma} | ${s.rho} --\x3e ${t[i-2][3]} | ${t[i][4]} | ${t[i][7]} | ${t[i][8]}`)}else if("Steps"===s.mode){let s="";for(let i=0;i<t.length;i++)s+=t[i][7]+"\n";navigator.clipboard.writeText(s),l.writeLine(`Copied ${t.length} tau/h values to clipboard.`)}f(t)}function f(t){(0,e.qs)(".simTable");let s=(0,e.qs)(".simTable > thead"),i=(0,e.qs)(".simTable > tbody");for(;i.firstChild;)i.firstChild.remove();for(let e=0;e<t.length;e++){const h=document.createElement("tr");for(let i=0;i<s.children[0].children.length;i++){const s=document.createElement("td");s.innerHTML=String(t[e][i]),h.appendChild(s)}i.appendChild(h)}}(0,e.B)(l.terminal_element,"mousedown",(t=>{t.target.classList.contains("terminal")&&(c=l.terminal_element,u.x=t.layerX,u.y=t.layerY)})),(0,e.B)(l.terminal_element,"mouseup",(()=>{c=null})),(0,e.B)(document.documentElement,"mousemove",(t=>{null!==c&&(c.style.left=t.clientX-u.x+"px",c.style.top=t.clientY-u.y+"px",localStorage.setItem("terminalPos",JSON.stringify({top:t.clientY-u.y+"px",left:t.clientX-u.x+"px"})))}))}},520:(t,s,i)=>{i.d(s,{C:()=>rt,m:()=>nt});var e=i(297),h=i(434),a=i(774);const o=function(t){for(const s of Object.keys(t)){delete t[s].tauFactor;for(const i of Object.keys(t[s].strats))t[s].strats[i].stratFilterCondition=Function(r(t[s].strats[i].stratFilterCondition)),t[s].strats[i].forcedCondition=Function(r(t[s].strats[i].forcedCondition))}return t}(structuredClone(e.Jp));function r(t){return t?`return ${t=(t=(t=(t=(t=(t=(t=(t=t.replace(/-/g,"_")).toLowerCase()).replace(/very_active/g,"arguments[0]")).replace(/active/g,"arguments[1]")).replace(/semi_idle/g,"arguments[2]")).replace(/idle/g,"arguments[3]")).replace(/rho/g,"arguments[4]")).replace(/laststrat/g,"arguments[5]")}`:"return true"}class l{constructor(t){var s,i,e,h;this.level=null!==(s=t.level)&&void 0!==s?s:0,this.costData=t.cost,this.cost=this.costData.getCost(this.level),this.value="number"==typeof t.value||"string"==typeof t.value?n(String(t.value)):0,this.isZero=!1,this.value===-1/0&&(this.value=0,this.isZero=!0),this.stepwisePowerSum=!0===(null===(i=t.stepwisePowerSum)||void 0===i?void 0:i.default)?{base:2,length:10}:"number"==typeof(null===(e=t.stepwisePowerSum)||void 0===e?void 0:e.base)&&"number"==typeof(null===(h=t.stepwisePowerSum)||void 0===h?void 0:h.length)?{base:t.stepwisePowerSum.base,length:t.stepwisePowerSum.length}:{base:0,length:0},this.varBase=t.varBase?t.varBase:10,this.firstFreeCost=!0===t.firstFreeCost?1:0,t.firstFreeCost&&this.buy()}buy(){0!==this.stepwisePowerSum.base?(this.value=this.isZero?Math.log10(this.stepwisePowerSum.base)*Math.floor(this.level/this.stepwisePowerSum.length):(0,h.IH)(this.value,Math.log10(this.stepwisePowerSum.base)*Math.floor(this.level/this.stepwisePowerSum.length)),this.isZero=!1):this.value=Math.log10(this.varBase)*(this.level+1),this.level++,this.cost=this.costData.getCost(this.level-this.firstFreeCost)}reCalculate(){if(0!==this.stepwisePowerSum.base){let t=Math.floor(this.level/this.stepwisePowerSum.length),s=this.level-t*this.stepwisePowerSum.length,i=this.stepwisePowerSum.length/(this.stepwisePowerSum.base-1);this.value=(0,h.$X)(Math.log10(i+s)+Math.log10(this.stepwisePowerSum.base)*t,Math.log10(i))}else this.value=Math.log10(this.varBase)*this.level}}function n(t){if("Infinity"===t)throw"Variable value reached Infinity";return"0"===t?-1/0:/[e]/.test(t)?(0,h.mv)(t):Math.log10(Number(t))}class u{constructor(t,s,i){this.cutoff=t,this.cost1=s,this.cost2=i}getCost(t){return t<this.cutoff?this.cost1.getCost(t):this.cost2.getCost(t-this.cutoff)}}class c{constructor(t,s,i=!1){this.cost=n(String(t)),this.costInc=n(String(s)),i&&(this.costInc=Math.log10(2)*Math.pow(10,this.costInc))}getCost(t){return this.cost+this.costInc*t}}class v{constructor(t,s){this.stepLength=t,this.cost=s}getCost(t){return this.cost.getCost(Math.floor(t/this.stepLength))}}var p=function(t,s,i,e){return new(i||(i=Promise))((function(h,a){function o(t){try{l(e.next(t))}catch(t){a(t)}}function r(t){try{l(e.throw(t))}catch(t){a(t)}}function l(t){var s;t.done?h(t.value):(s=t.value,s instanceof i?s:new i((function(t){t(s)}))).then(o,r)}l((e=e.apply(t,s||[])).next())}))};class m{constructor(t){var s;this.strat=t.strat,this.theory="T1",this.cap="number"==typeof t.cap&&t.cap>0?[t.cap,1]:[1/0,0],this.recovery=null!==(s=t.recovery)&&void 0!==s?s:{value:0,time:0,recoveryTime:!1},this.lastPub=t.rho,this.sigma=t.sigma,this.totMult=this.getTotMult(t.rho),this.curMult=0,this.dt=rt.dt,this.ddt=rt.ddt,this.t=0,this.ticks=0,this.rho=0,this.maxRho=0,this.variables=[new l({cost:new c(5,2),stepwisePowerSum:{default:!0},firstFreeCost:!0}),new l({cost:new c(100,10),varBase:2}),new l({cost:new c(15,2),stepwisePowerSum:{default:!0}}),new l({cost:new c(3e3,10),varBase:2}),new l({cost:new c(1e4,4.5*Math.log2(10),!0),varBase:10}),new l({cost:new c(1e10,8*Math.log2(10),!0),varBase:10})],this.term1=0,this.term2=0,this.term3=0,this.termRatio=0,this.c3Ratio=this.lastPub<300?1:this.lastPub<450?1.1:this.lastPub<550?2:this.lastPub<655?5:10,this.boughtVars=[],this.tauH=0,this.maxTauH=0,this.pubT=0,this.pubRho=0,this.milestones=[0,0,0,0],this.pubMulti=0,this.conditions=this.getBuyingConditions(),this.milestoneConditions=this.getMilestoneConditions(),this.milestoneTree=this.getMilestoneTree(),this.updateMilestones()}getBuyingConditions(){return{T1:new Array(6).fill(!0),T1C34:[!0,!0,!1,!1,!0,!0],T1C4:[!0,!0,!1,!1,!1,!0],T1Ratio:[()=>this.variables[0].cost+1<this.rho,()=>this.variables[1].cost+(0,h.wp)(1.11)<this.rho,()=>this.variables[2].cost+this.termRatio+1<=this.rho,()=>this.variables[3].cost+this.termRatio<=this.rho,()=>this.variables[4].cost+(0,h.wp)(this.c3Ratio)<this.rho,!0],T1SolarXLII:[()=>this.variables[0].cost+(0,h.wp)(5)<=this.rho&&this.variables[0].cost+(0,h.wp)(6+this.variables[0].level%10)<=this.variables[1].cost&&this.variables[0].cost+(0,h.wp)(15+this.variables[0].level%10)<(this.milestones[3]>0?this.variables[5].cost:1e3),()=>this.variables[1].cost+(0,h.wp)(1.11)<this.rho,()=>this.variables[2].cost+this.termRatio+1<=this.rho,()=>this.variables[3].cost+this.termRatio<=this.rho,()=>this.variables[4].cost+(0,h.wp)(this.c3Ratio)<this.rho,!0]}[this.strat].map((t=>"function"==typeof t?t:()=>t))}getMilestoneConditions(){return[()=>!0,()=>!0,()=>!0,()=>!0,()=>this.milestones[2]>0,()=>this.milestones[3]>0]}getMilestoneTree(){const t=[[0,0,0,0],[0,0,1,0],[0,0,1,1],[1,0,1,1],[1,1,1,1],[1,2,1,1],[1,3,1,1]];return{T1:t,T1C34:t,T1C4:t,T1Ratio:t,T1SolarXLII:t}[this.strat]}getTotMult(t){return Math.max(0,.164*t-(0,h.wp)(3))+(0,h.wp)(Math.pow(this.sigma/20,this.sigma<65?0:this.sigma<75?1:this.sigma<85?2:3))}updateMilestones(){const t=Math.min(6,Math.floor(Math.max(this.lastPub,this.maxRho)/25));this.milestones=this.milestoneTree[Math.min(this.milestoneTree.length-1,t)]}simulate(){return p(this,void 0,void 0,(function*(){let t=8*Math.ceil((this.lastPub-10)/8)+10,s=t-this.lastPub<3?t+2:t-this.lastPub<5?t-2+Math.log10(1.5):t-4+Math.log10(1.4),i=(t-this.lastPub<3?t:Math.floor(this.lastPub))+Math.log10(30);i=Math.max(8+Math.log10(30),i+Math.floor(s-i));let e=!1;for(;!e&&rt.simulating;)(this.ticks+1)%5e5==0&&(yield(0,h._v)()),this.tick(),this.rho>this.maxRho&&(this.maxRho=this.rho),this.lastPub<176&&this.updateMilestones(),this.curMult=Math.pow(10,this.getTotMult(this.maxRho)-this.totMult),("T1SolarXLII"!==this.strat||this.rho<i||rt.forcedPubTime!==1/0)&&this.buyVariables(),e=(rt.forcedPubTime!==1/0?this.t>rt.forcedPubTime:"T1SolarXLII"===this.strat?this.pubRho>s:this.t>2*this.pubT||this.pubRho>this.cap[0])&&this.pubRho>10,this.ticks++;this.pubMulti=Math.pow(10,this.getTotMult(this.pubRho)-this.totMult);let a=(0,h.xo)(this,rt.forcedPubTime===1/0&&"T1SolarXLII"===this.strat?` ${this.lastPub<50?"":(0,h.Ti)(Math.min(this.pubRho,i),2)}`:"");for(;this.boughtVars[this.boughtVars.length-1].timeStamp>this.pubT;)this.boughtVars.pop();return rt.varBuy.push([a[7],this.boughtVars]),a}))}tick(){this.term1=this.variables[2].value*(1+.05*this.milestones[1])+this.variables[3].value+(this.milestones[0]>0?(0,h.wp)(1+this.rho/Math.LOG10E/100):0),this.term2=(0,h.IH)(this.variables[4].value+.2*this.rho,this.variables[5].value+.3*this.rho),this.term3=this.variables[0].value+this.variables[1].value;let t=(0,h.IH)(this.term1,this.term2)+this.term3+this.totMult+(0,h.wp)(this.dt);this.rho=(0,h.IH)(this.rho,t),this.t+=this.dt/1.5,this.dt*=this.ddt,this.maxRho<this.recovery.value&&(this.recovery.time=this.t),this.tauH=(this.maxRho-this.lastPub)/(this.t/3600),(this.maxTauH<this.tauH||this.maxRho>=this.cap[0]-this.cap[1]||this.pubRho<10||rt.forcedPubTime!==1/0||"T1SolarXLII"===this.strat)&&(this.maxTauH=this.tauH,this.pubT=this.t,this.pubRho=this.maxRho)}buyVariables(){let t=!1;for(let s=this.variables.length-1;s>=0;s--)for(;this.rho>this.variables[s].cost&&this.conditions[s]()&&this.milestoneConditions[s]();){if(this.maxRho+5>this.lastPub&&(2!==s&&3!==s||this.lastPub<350)){let t=["q1","q2","c1","c2","c3","c4"];this.boughtVars.push({variable:t[s],level:this.variables[s].level+1,cost:this.variables[s].cost,timeStamp:this.t})}this.rho=(0,h.$X)(this.rho,this.variables[s].cost),this.variables[s].buy(),t=!0}t&&(this.termRatio=Math.max((0,h.wp)(5),(this.term2-this.term1)*Number(this.milestones[3]>0)))}}var b=function(t,s,i,e){return new(i||(i=Promise))((function(h,a){function o(t){try{l(e.next(t))}catch(t){a(t)}}function r(t){try{l(e.throw(t))}catch(t){a(t)}}function l(t){var s;t.done?h(t.value):(s=t.value,s instanceof i?s:new i((function(t){t(s)}))).then(o,r)}l((e=e.apply(t,s||[])).next())}))};class d{constructor(t){var s;this.strat=t.strat,this.theory="T2",this.cap="number"==typeof t.cap&&t.cap>0?[t.cap,1]:[1/0,0],this.recovery=null!==(s=t.recovery)&&void 0!==s?s:{value:0,time:0,recoveryTime:!1},this.lastPub=t.rho,this.sigma=t.sigma,this.totMult=this.getTotMult(t.rho),this.curMult=0,this.dt=rt.dt,this.ddt=rt.ddt,this.t=0,this.ticks=0,this.rho=0,this.maxRho=0,this.q1=0,this.q2=0,this.q3=0,this.q4=0,this.r1=0,this.r2=0,this.r3=0,this.r4=0,this.variables=[new l({cost:new c(10,2),stepwisePowerSum:{default:!0},firstFreeCost:!0}),new l({cost:new c(5e3,2),stepwisePowerSum:{default:!0}}),new l({cost:new c(3e25,3),stepwisePowerSum:{default:!0}}),new l({cost:new c(8e50,4),stepwisePowerSum:{default:!0}}),new l({cost:new c(2e6,2),stepwisePowerSum:{default:!0}}),new l({cost:new c(3e9,2),stepwisePowerSum:{default:!0}}),new l({cost:new c(4e25,3),stepwisePowerSum:{default:!0}}),new l({cost:new c(5e50,4),stepwisePowerSum:{default:!0}})],this.boughtVars=[],this.tauH=0,this.maxTauH=0,this.pubT=0,this.pubRho=0,this.milestones=[0,0,0,0],this.pubMulti=0,this.conditions=this.getBuyingConditions(),this.milestoneConditions=this.getMilestoneConditions(),this.milestoneTree=this.getMilestoneTree(),this.updateMilestones()}getBuyingConditions(){return{T2:new Array(8).fill(!0),T2MC:[()=>this.curMult<4650,()=>this.curMult<2900,()=>this.curMult<2250,()=>this.curMult<1150,()=>this.curMult<4650,()=>this.curMult<2900,()=>this.curMult<2250,()=>this.curMult<1150],T2MS:new Array(8).fill(!0),T2QS:new Array(8).fill(!0)}[this.strat].map((t=>"function"==typeof t?t:()=>t))}getMilestoneConditions(){return[()=>!0,()=>!0,()=>this.milestones[0]>0,()=>this.milestones[0]>1,()=>!0,()=>!0,()=>this.milestones[1]>0,()=>this.milestones[1]>1]}getMilestoneTree(){const t=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[2,1,0,0],[2,2,0,0],[2,2,1,0],[2,2,2,0],[2,2,3,0],[2,2,3,1],[2,2,3,2],[2,2,3,3]];return{T2:t,T2MC:t,T2MS:t,T2QS:t}[this.strat]}getTotMult(t){return Math.max(0,.198*t-(0,h.wp)(100))+(0,h.wp)(Math.pow(this.sigma/20,this.sigma<65?0:this.sigma<75?1:this.sigma<85?2:3))}updateMilestones(){let t=Math.min(10,Math.floor(Math.max(this.lastPub,this.maxRho)/25));this.milestones=[0,0,0,0];let s=[];if(s=[1,2,3,4],"T2MS"===this.strat){let t=this.t%100;t<10?s=[3,4,1,2]:t<50?s=[1,2,3,4]:t<60?s=[3,4,1,2]:t<100&&(s=[2,1,3,4])}if("T2QS"===this.strat){let t=1/0;this.lastPub>0&&(t=10),this.lastPub>75&&(t=200),this.lastPub>100&&(t=200),this.lastPub>125&&(t=200),this.lastPub>150&&(t=600),this.lastPub>200&&(t=100),this.lastPub>225&&(t=25),s=this.curMult<t?[1,2,3,4]:[3,4,1,2]}const i=[2,2,3,3];for(let e=0;e<s.length;e++)for(;this.milestones[s[e]-1]<i[s[e]-1]&&t>0;)this.milestones[s[e]-1]++,t--}simulate(){return b(this,void 0,void 0,(function*(){let t=!1;for(;!t&&rt.simulating;)(this.ticks+1)%5e5==0&&(yield(0,h._v)()),this.tick(),this.rho>this.maxRho&&(this.maxRho=this.rho),this.lastPub<250&&this.updateMilestones(),this.curMult=Math.pow(10,this.getTotMult(this.maxRho)-this.totMult),this.buyVariables(),t=(rt.forcedPubTime!==1/0?this.t>rt.forcedPubTime:this.t>2*this.pubT||this.pubRho>this.cap[0])&&this.pubRho>15,this.ticks++;this.pubMulti=Math.pow(10,this.getTotMult(this.pubRho)-this.totMult);let s=(0,h.xo)(this,"");for(;this.boughtVars[this.boughtVars.length-1].timeStamp>this.pubT;)this.boughtVars.pop();return rt.varBuy.push([s[7],this.boughtVars]),s}))}tick(){let t=(0,h.wp)(this.dt);this.q1=(0,h.IH)(this.q1,this.variables[0].value+this.q2+t),this.q2=(0,h.IH)(this.q2,this.variables[1].value+this.q3+t),this.q3=this.milestones[0]>0?(0,h.IH)(this.q3,this.variables[2].value+this.q4+t):this.q3,this.q4=this.milestones[0]>1?(0,h.IH)(this.q4,this.variables[3].value+t):this.q4,this.r1=(0,h.IH)(this.r1,this.variables[4].value+this.r2+t),this.r2=(0,h.IH)(this.r2,this.variables[5].value+this.r3+t),this.r3=this.milestones[1]>0?(0,h.IH)(this.r3,this.variables[6].value+this.r4+t):this.r3,this.r4=this.milestones[1]>1?(0,h.IH)(this.r4,this.variables[7].value+t):this.r4;let s=this.q1*(1+.05*this.milestones[2])+this.r1*(1+.05*this.milestones[3])+this.totMult+t;this.rho=(0,h.IH)(this.rho,s),this.t+=this.dt/1.5,this.dt*=this.ddt,this.maxRho<this.recovery.value&&(this.recovery.time=this.t),this.tauH=(this.maxRho-this.lastPub)/(this.t/3600),(this.maxTauH<this.tauH||this.maxRho>=this.cap[0]-this.cap[1]||this.pubRho<15||rt.forcedPubTime!==1/0)&&(this.maxTauH=this.tauH,this.pubT=this.t,this.pubRho=this.maxRho)}buyVariables(){for(let t=this.variables.length-1;t>=0;t--)for(;this.rho>this.variables[t].cost&&this.conditions[t]()&&this.milestoneConditions[t]();){if(this.maxRho+5>this.lastPub){let s=["q1","q2","q3","q4","r1","r2","r3","r4"];this.boughtVars.push({variable:s[t],level:this.variables[t].level+1,cost:this.variables[t].cost,timeStamp:this.t})}this.rho=(0,h.$X)(this.rho,this.variables[t].cost),this.variables[t].buy()}}}var w=function(t,s,i,e){return new(i||(i=Promise))((function(h,a){function o(t){try{l(e.next(t))}catch(t){a(t)}}function r(t){try{l(e.throw(t))}catch(t){a(t)}}function l(t){var s;t.done?h(t.value):(s=t.value,s instanceof i?s:new i((function(t){t(s)}))).then(o,r)}l((e=e.apply(t,s||[])).next())}))};class f{constructor(t){var s;this.strat=t.strat,this.theory="T3",this.cap="number"==typeof t.cap&&t.cap>0?[t.cap,1]:[1/0,0],this.recovery=null!==(s=t.recovery)&&void 0!==s?s:{value:0,time:0,recoveryTime:!1},this.lastPub=t.rho,this.sigma=t.sigma,this.totMult=this.getTotMult(t.rho),this.curMult=0,this.dt=rt.dt,this.ddt=rt.ddt,this.t=0,this.ticks=0,this.currencies=[0,0,0],this.maxRho=0,this.variables=[new l({cost:new c(10,1.18099),stepwisePowerSum:{default:!0},firstFreeCost:!0}),new l({cost:new c(10,1.308),stepwisePowerSum:{default:!0}}),new l({cost:new c(3e3,1.675),stepwisePowerSum:{default:!0}}),new l({cost:new c(20,6.3496),varBase:2}),new l({cost:new c(10,2.74),varBase:2}),new l({cost:new c(1e3,1.965),varBase:2}),new l({cost:new c(500,18.8343),varBase:2}),new l({cost:new c(1e5,3.65),varBase:2}),new l({cost:new c(1e5,2.27),varBase:2}),new l({cost:new c(1e4,1248.27),varBase:2}),new l({cost:new c(1e3,6.81744),varBase:2}),new l({cost:new c(1e5,2.98),varBase:2})],this.boughtVars=[],this.tauH=0,this.maxTauH=0,this.pubT=0,this.pubRho=0,this.milestones=[0,0,0,0],this.pubMulti=0,this.conditions=this.getBuyingConditions(),this.milestoneConditions=this.getMilestoneConditions(),this.milestoneTree=this.getMilestoneTree(),this.updateMilestones()}getBuyingConditions(){return{T3:new Array(12).fill(!0),T3C11C12C21:[!0,!0,!1,!0,!0,!1,!0,!1,!1,!1,!1,!1],T3noC11C13C21C33:[!0,!0,!0,!1,!0,!1,!1,!0,!0,!0,!0,!1],T3noC13C32C33:[!0,!0,!0,!0,!0,!1,!0,!0,!0,!0,!1,!1],T3noC13C33:[!0,!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!1],T3noP1C13C33:[!1,!0,!0,!1,!0,!1,!1,!0,!0,!1,!0,!1],T3Snax:[()=>this.curMult<1,!0,!0,!1,()=>!(this.curMult<1)||this.variables[4].cost+2<this.currencies[0],!1,!1,!0,!0,()=>this.curMult<1,()=>this.curMult<1,()=>this.curMult<1],T3Snax2:[()=>this.curMult<1&&this.variables[0].cost+1<this.currencies[0],()=>this.variables[1].cost+(0,h.wp)(3)<this.currencies[1],()=>this.variables[2].cost+(0,h.wp)(5)<this.currencies[2],!1,()=>!(this.curMult<1)||this.variables[4].cost+2<this.currencies[0],!1,!1,()=>this.curMult<1||this.variables[7].cost+(0,h.wp)(8)<this.currencies[1],!0,()=>this.curMult<1,()=>this.curMult<1,()=>this.curMult<1&&this.variables[11].cost+1<this.currencies[2]],T3C11C12C21d:[()=>this.variables[0].cost+(0,h.wp)(7)<Math.min(this.variables[3].cost,this.variables[6].cost),()=>this.variables[1].cost+(0,h.wp)(7)<this.variables[4].cost,!1,!0,!0,!1,!0,!1,!1,!1,!1,!1],T3noC11C13C21C33d:[()=>this.variables[0].cost+(0,h.wp)(8)<this.variables[9].cost,()=>this.variables[1].cost+(0,h.wp)(5)<Math.min(this.variables[4].cost,this.variables[7].cost,this.variables[10].cost),()=>this.variables[2].cost+(0,h.wp)(8)<this.variables[8].cost,!1,!0,!1,!1,!0,!0,!0,!0,!1],T3noC11C13C33d:[()=>this.variables[0].cost+(0,h.wp)(10)<Math.min(this.variables[6].cost,this.variables[9].cost),()=>this.variables[1].cost+(0,h.wp)(4)<Math.min(this.variables[4].cost,this.variables[7].cost,this.variables[10].cost),()=>this.variables[2].cost+(0,h.wp)(10)<this.variables[8].cost,!1,!0,!1,!0,!0,!0,!0,!0,!1],T3noC13C32C33d:[()=>this.variables[0].cost+(0,h.wp)(8)<Math.min(this.variables[3].cost,this.variables[6].cost,this.variables[9].cost),()=>this.variables[1].cost+(0,h.wp)(5)<Math.min(this.variables[4].cost,this.variables[7].cost),()=>this.variables[2].cost+(0,h.wp)(8)<this.variables[8].cost,!0,!0,!1,!0,!0,!0,!0,!1,!1],T3noC13C33d:[()=>this.variables[0].cost+(0,h.wp)(10)<Math.min(this.variables[3].cost,this.variables[6].cost,this.variables[9].cost),()=>this.variables[1].cost+(0,h.wp)(4)<Math.min(this.variables[4].cost,this.variables[7].cost,this.variables[10].cost),()=>this.variables[2].cost+(0,h.wp)(10)<this.variables[8].cost,!0,!0,!1,!0,!0,!0,!0,!0,!1],T3Play:[()=>this.curMult<2&&this.variables[0].cost+(0,h.wp)(8)<this.variables[9].cost,()=>!(this.curMult<2)||this.variables[1].cost+(0,h.wp)(4)<Math.min(this.variables[4].cost,this.variables[10].cost)&&this.variables[1].cost+(0,h.wp)(2)<this.variables[7].cost,()=>this.variables[2].cost+(0,h.wp)(8)<this.variables[8].cost&&this.variables[2].cost+(0,h.wp)(2)<this.variables[11].cost,!1,!0,!1,!1,()=>!(this.curMult<2)||this.variables[7].cost+(0,h.wp)(2)<Math.min(this.variables[4].cost,this.variables[10].cost),!0,()=>this.curMult<2,!0,()=>this.variables[11].cost+(0,h.wp)(4)<this.variables[8].cost],T3Play2:[()=>this.lastPub-this.maxRho>1&&this.variables[0].cost+(0,h.wp)(8)<this.variables[9].cost,()=>(this.curMult<1.2?this.variables[1].cost+(0,h.wp)(5)<this.variables[10].cost:this.variables[1].cost+(0,h.wp)(8)<this.variables[4].cost)||this.curMult>2.4,()=>!(this.curMult<2.4)||this.variables[2].cost+(0,h.wp)(8)<this.variables[8].cost,!1,()=>!(this.curMult<1.2)||this.variables[4].cost+2<this.variables[10].cost,!1,!1,()=>this.curMult<1.2?this.variables[7].cost+(0,h.wp)(2.5)<this.variables[10].cost:this.variables[7].cost+(0,h.wp)(8)<this.variables[4].cost,!0,()=>this.lastPub-this.maxRho>1,()=>this.curMult<1.2||this.curMult<2.4&&this.variables[10].cost+(0,h.wp)(8)<this.variables[4].cost,()=>this.curMult<1.2&&this.variables[11].cost+(0,h.wp)(10)<this.variables[8].cost]}[this.strat].map((t=>"function"==typeof t?t:()=>t))}getMilestoneConditions(){return[()=>!0,()=>!0,()=>this.milestones[0]>0,()=>!0,()=>!0,()=>this.milestones[0]>0,()=>!0,()=>!0,()=>this.milestones[0]>0,()=>this.milestones[0]>0,()=>this.milestones[0]>0,()=>this.milestones[0]>0]}getMilestoneTree(){const t=[[0,0,0,0],[0,1,0,0],[0,2,0,0],[0,2,1,0],[0,2,2,0],[1,2,2,0],[1,2,2,1],[1,2,2,2]];return{T3:t,T3C11C12C21:t,T3noC11C13C21C33:t,T3noC13C32C33:t,T3noC13C33:t,T3noP1C13C33:t,T3Snax:t,T3Snax2:t,T3C11C12C21d:t,T3noC11C13C21C33d:t,T3noC11C13C33d:t,T3noC13C32C33d:t,T3noC13C33d:t,T3Play:t,T3Play2:t}[this.strat]}getTotMult(t){return Math.max(0,.147*t+(0,h.wp)(3))+(0,h.wp)(Math.pow(this.sigma/20,this.sigma<65?0:this.sigma<75?1:this.sigma<85?2:3))}updateMilestones(){const t=Math.min(7,Math.floor(Math.max(this.lastPub,this.maxRho)/25));this.milestones=this.milestoneTree[Math.min(this.milestoneTree.length-1,t)]}simulate(){return w(this,void 0,void 0,(function*(){let t=!1;for(;!t&&rt.simulating;)(this.ticks+1)%5e5==0&&(yield(0,h._v)()),this.tick(),this.currencies[0]>this.maxRho&&(this.maxRho=this.currencies[0]),this.lastPub<175&&this.updateMilestones(),this.curMult=Math.pow(10,this.getTotMult(this.maxRho)-this.totMult),this.buyVariables(),t=(rt.forcedPubTime!==1/0?this.t>rt.forcedPubTime:this.t>2*this.pubT||this.pubRho>this.cap[0])&&this.pubRho>9,this.ticks++;this.pubMulti=Math.pow(10,this.getTotMult(this.pubRho)-this.totMult);let s=(0,h.xo)(this,"");for(;this.boughtVars[this.boughtVars.length-1].timeStamp>this.pubT;)this.boughtVars.pop();return rt.varBuy.push([s[7],this.boughtVars]),s}))}tick(){let t=this.variables[0].value*(1+.05*this.milestones[1]),s=this.variables[1].value*(1+.05*this.milestones[2]),i=this.variables[2].value*(1+.05*this.milestones[3]),e=(0,h.IH)((0,h.IH)(this.variables[3].value+t,this.variables[4].value+s),this.variables[5].value+i);this.currencies[0]=(0,h.IH)(this.currencies[0],(0,h.wp)(this.dt)+this.totMult+e);let a=(0,h.IH)((0,h.IH)(this.variables[6].value+t,this.variables[7].value+s),this.variables[8].value+i);this.currencies[1]=(0,h.IH)(this.currencies[1],(0,h.wp)(this.dt)+this.totMult+a);let o=(0,h.IH)((0,h.IH)(this.variables[9].value+t,this.variables[10].value+s),this.variables[11].value+i);this.currencies[2]=this.milestones[0]>0?(0,h.IH)(this.currencies[2],(0,h.wp)(this.dt)+this.totMult+o):0,this.t+=this.dt/1.5,this.dt*=this.ddt,this.maxRho<this.recovery.value&&(this.recovery.time=this.t),this.tauH=(this.maxRho-this.lastPub)/(this.t/3600),(this.maxTauH<this.tauH||this.maxRho>=this.cap[0]-this.cap[1]||this.pubRho<9||rt.forcedPubTime!==1/0)&&(this.maxTauH=this.tauH,this.pubT=this.t,this.pubRho=this.maxRho)}buyVariables(){for(let t=this.variables.length-1;t>=0;t--){let s=t%3;for(;this.currencies[s]>this.variables[t].cost&&this.conditions[t]()&&this.milestoneConditions[t]();){if(this.maxRho+5>this.lastPub){let s=["b1","b2","b3","c11","c12","c13","c21","c22","c23","c31","c32","c33"];this.boughtVars.push({variable:s[t],level:this.variables[t].level+1,cost:this.variables[t].cost,timeStamp:this.t})}this.currencies[s]=(0,h.$X)(this.currencies[s],this.variables[t].cost),this.variables[t].buy()}}}}var M=function(t,s,i,e){return new(i||(i=Promise))((function(h,a){function o(t){try{l(e.next(t))}catch(t){a(t)}}function r(t){try{l(e.throw(t))}catch(t){a(t)}}function l(t){var s;t.done?h(t.value):(s=t.value,s instanceof i?s:new i((function(t){t(s)}))).then(o,r)}l((e=e.apply(t,s||[])).next())}))};class g{constructor(t){var s;this.strat=t.strat,this.theory="T4",this.cap="number"==typeof t.cap&&t.cap>0?[t.cap,2]:[1/0,0],this.recovery=null!==(s=t.recovery)&&void 0!==s?s:{value:0,time:0,recoveryTime:!1},this.recursionValue=t.recursionValue,this.lastPub=t.rho,this.sigma=t.sigma,this.totMult=this.getTotMult(t.rho),this.curMult=0,this.dt=rt.dt,this.ddt=rt.ddt,this.t=0,this.ticks=0,this.rho=0,this.maxRho=0,this.q=0,this.variables=[new l({cost:new c(5,1.305),stepwisePowerSum:{default:!0},firstFreeCost:!0}),new l({cost:new c(20,3.75),varBase:2}),new l({cost:new c(2e3,2.468),varBase:2}),new l({cost:new c(1e4,4.85),varBase:3}),new l({cost:new c(1e8,12.5),varBase:5}),new l({cost:new c(1e10,58),varBase:10}),new l({cost:new c(1e3,100),stepwisePowerSum:{default:!0}}),new l({cost:new c(1e4,1e3),varBase:2})],this.variableSum=0,this.boughtVars=[],this.tauH=0,this.maxTauH=0,this.pubT=0,this.pubRho=0,this.milestones=[0,0,0],this.pubMulti=0,this.conditions=this.getBuyingConditions(),this.milestoneConditions=this.getMilestoneConditions(),this.milestoneTree=this.getMilestoneTree(),this.updateMilestones()}getBuyingConditions(){return{T4:new Array(8).fill(!0),T4C12:[!0,!0,...new Array(6).fill(!1)],T4C3:[!1,!1,!0,...new Array(3).fill(!1),!0,!0],T4C4:[...new Array(3).fill(!1),!0,!1,!1,!0,!0],T4C5:[...new Array(4).fill(!1),!0,!1,!0,!0],T4C56:[...new Array(4).fill(!1),!0,!0,!0,!0],T4C12d:[()=>this.variables[0].cost+1<this.variables[1].cost,!0,!1,!1,!1,!1,!1,!1],T4C123d:[()=>this.variables[0].cost+1<Math.min(this.variables[1].cost),!0,!0,!1,!1,!1,()=>this.variables[6].cost+1<this.variables[7].cost,!0],T4C456dC12rcvMS:[()=>this.variables[0].cost+1<this.variables[1].cost&&this.maxRho<this.lastPub,()=>this.maxRho<this.lastPub,!1,!0,!0,!0,!0,!0],T4C356dC12rcv:[()=>this.variables[0].cost+1<this.variables[1].cost&&this.maxRho<this.lastPub,()=>this.maxRho<this.lastPub,!0,!1,!0,!0,!0,!0],T4C3d66:[!1,!1,()=>{var t;return this.variables[2].cost+.1<(null!==(t=this.recursionValue)&&void 0!==t?t:1/0)},...new Array(3).fill(!1),()=>{var t;return this.variables[6].cost+(0,h.wp)(10+this.variables[6].level%10)<=Math.min(this.variables[7].cost,this.variables[2].cost)&&this.variables[6].cost+(0,h.wp)(10+this.variables[6].level%10)+1<(null!==(t=this.recursionValue)&&void 0!==t?t:1/0)},()=>{var t;return this.variables[7].cost+.5<(null!==(t=this.recursionValue)&&void 0!==t?t:1/0)&&(this.curMult<1||this.variables[7].cost+(0,h.wp)(1.5)<=this.variables[2].cost)}]}[this.strat].map((t=>"function"==typeof t?t:()=>t))}getMilestoneConditions(){return[()=>!0,()=>!0,()=>!0,()=>this.milestones[0]>0,()=>this.milestones[0]>1,()=>this.milestones[0]>2,()=>!0,()=>!0]}getMilestoneTree(){return{T4:[[0,0,0],[1,0,0],[2,0,0],[3,0,0],[3,0,1],[3,0,2],[3,0,3],[3,1,3]],T4C12:[[0,0,0],[0,1,0]],T4C3:[[0,0,0],[0,0,1],[0,0,2],[0,0,3]],T4C4:[[0,0,0],[1,0,0],[1,0,1],[1,0,2],[1,0,3]],T4C5:[[0,0,0],[1,0,0],[2,0,0],[2,0,1],[2,0,2],[2,0,3]],T4C56:[[0,0,0],[1,0,0],[2,0,0],[3,0,0],[3,0,1],[3,0,2],[3,0,3],[3,0,3]],T4C12d:[[0,0,0],[0,1,0]],T4C123d:[[0,0,0],[0,1,0],[0,1,1],[0,1,2],[0,1,3]],T4C456dC12rcvMS:[[0,0,0]],T4C356dC12rcv:[[0,0,0],[0,1,0],[0,1,1],[0,1,2],[0,1,3],[1,1,3],[2,1,3],[3,1,3]],T4C3d66:[[0,0,0],[0,0,1],[0,0,2],[0,0,3]]}[this.strat]}getTotMult(t){return Math.max(0,.165*t-(0,h.wp)(4))+(0,h.wp)(Math.pow(this.sigma/20,this.sigma<65?0:this.sigma<75?1:this.sigma<85?2:3))}updateMilestones(){const t=Math.min(7,Math.floor(Math.max(this.lastPub,this.maxRho)/25));if(this.milestones=this.milestoneTree[Math.min(this.milestoneTree.length-1,t)],"T4C456dC12rcvMS"===this.strat){const s=[3,1,3];let i;this.milestones=[0,0,0],i=this.maxRho<this.lastPub?[2,3,1]:this.t%100<50?[3,1,2]:[1,3,2];let e=t;this.milestones=[0,0,0];for(let t=0;t<i.length;t++)for(;this.milestones[i[t]-1]<s[i[t]-1]&&e>0;)this.milestones[i[t]-1]++,e--}}simulate(t){return M(this,void 0,void 0,(function*(){if(null==this.recursionValue&&"T4C3d66"===this.strat&&rt.forcedPubTime===1/0){t.recursionValue=Number.MAX_VALUE;let s=yield new g(t).simulate(t);this.recursionValue=s[9][0]}let s=!1;for(;!s&&rt.simulating;)(this.ticks+1)%5e5==0&&(yield(0,h._v)()),this.tick(),this.rho>this.maxRho&&(this.maxRho=this.rho),this.lastPub<176&&this.updateMilestones(),this.curMult=Math.pow(10,this.getTotMult(this.maxRho)-this.totMult),this.buyVariables(),s=rt.forcedPubTime!==1/0?this.t>rt.forcedPubTime:(this.t>2*this.pubT||this.pubRho>this.cap[0])&&this.pubRho>9,this.ticks++;this.pubMulti=Math.pow(10,this.getTotMult(this.pubRho)-this.totMult);let i=(0,h.xo)(this,"T4C3d66"===this.strat?` q1:${this.variables[6].level} q2:${this.variables[7].level}`:"");for(;this.boughtVars[this.boughtVars.length-1].timeStamp>this.pubT;)this.boughtVars.pop();return rt.varBuy.push([i[7],this.boughtVars]),i}))}tick(){let t=this.variables[6].value,s=this.variables[7].value,i=(0,h.wp)(2)*this.milestones[2]+t+s-(0,h.IH)(0,this.q);this.q=(0,h.IH)(this.q,i+(0,h.wp)(this.dt));let e=this.totMult+this.variableSum;this.rho=(0,h.IH)(this.rho,e+(0,h.wp)(this.dt)),this.t+=this.dt/1.5,this.dt*="T4C3d66"===this.strat&&this.recursionValue===Number.MAX_VALUE?Math.min(1.3,10*this.ddt):this.ddt,this.maxRho<this.recovery.value&&(this.recovery.time=this.t),this.tauH=(this.maxRho-this.lastPub)/(this.t/3600),(this.maxTauH<this.tauH||this.maxRho>=this.cap[0]-this.cap[1]||this.pubRho<9||rt.forcedPubTime!==1/0)&&(this.maxTauH=this.tauH,this.pubT=this.t,this.pubRho=this.maxRho)}buyVariables(){for(let t=this.variables.length-1;t>=0;t--)for(;this.rho>this.variables[t].cost&&this.conditions[t]()&&this.milestoneConditions[t]();){if(this.maxRho+5>this.lastPub){let s=["c1","c2","c3","c4","c5","c6","q1","q2"];this.boughtVars.push({variable:s[t],level:this.variables[t].level+1,cost:this.variables[t].cost,timeStamp:this.t})}this.rho=(0,h.$X)(this.rho,this.variables[t].cost),this.variables[t].buy()}let t=this.variables[0].value*(1+.15*this.milestones[1]),s=this.variables[1].value;this.variableSum=t+s,this.variables[2].level>0&&(this.variableSum=(0,h.IH)(this.variableSum,this.variables[2].value+this.q)),this.variables[3].level>0&&(this.variableSum=(0,h.IH)(this.variableSum,this.variables[3].value+2*this.q)),this.variables[4].level>0&&(this.variableSum=(0,h.IH)(this.variableSum,this.variables[4].value+3*this.q)),this.variables[5].level>0&&(this.variableSum=(0,h.IH)(this.variableSum,this.variables[5].value+4*this.q))}}var T=function(t,s,i,e){return new(i||(i=Promise))((function(h,a){function o(t){try{l(e.next(t))}catch(t){a(t)}}function r(t){try{l(e.throw(t))}catch(t){a(t)}}function l(t){var s;t.done?h(t.value):(s=t.value,s instanceof i?s:new i((function(t){t(s)}))).then(o,r)}l((e=e.apply(t,s||[])).next())}))};class y{constructor(t){var s;this.strat=t.strat,this.theory="T5",this.cap="number"==typeof t.cap&&t.cap>0?[t.cap,1]:[1/0,0],this.recovery=null!==(s=t.recovery)&&void 0!==s?s:{value:0,time:0,recoveryTime:!1},this.lastPub=t.rho,this.sigma=t.sigma,this.totMult=this.getTotMult(t.rho),this.curMult=0,this.dt=rt.dt,this.ddt=rt.ddt,this.t=0,this.ticks=0,this.rho=0,this.maxRho=0,this.q=0,this.variables=[new l({cost:new c(10,1.61328),stepwisePowerSum:{default:!0},firstFreeCost:!0}),new l({cost:new c(15,64),varBase:2}),new l({cost:new c(1e6,1.18099),value:1,stepwisePowerSum:{default:!0}}),new l({cost:new c(75,4.53725),varBase:2}),new l({cost:new c(1e3,88550700),varBase:2})],this.c2worth=!0,this.boughtVars=[],this.tauH=0,this.maxTauH=0,this.pubT=0,this.pubRho=0,this.milestones=[0,0,0],this.pubMulti=0,this.conditions=this.getBuyingConditions(),this.milestoneConditions=this.getMilestoneConditions(),this.milestoneTree=this.getMilestoneTree(),this.updateMilestones()}getBuyingConditions(){return{T5:[!0,!0,!0,!0,!0],T5Idle:[!0,!0,()=>this.maxRho+(this.lastPub-200)/165<this.lastPub,()=>this.c2worth,!0],T5AI2:[()=>this.variables[0].cost+(0,h.wp)(3+this.variables[0].level%10)<=Math.min(this.variables[1].cost,this.variables[3].cost,this.milestones[2]>0?this.variables[4].cost:1e3),!0,()=>this.q+(0,h.wp)(1.5)<this.variables[3].value+this.variables[4].value*(1+.05*this.milestones[2])||!this.c2worth,()=>this.c2worth,!0]}[this.strat].map((t=>"function"==typeof t?t:()=>t))}getMilestoneConditions(){return[()=>!0,()=>!0,()=>!0,()=>!0,()=>this.milestones[1]>0]}getMilestoneTree(){const t=[[0,0,0],[0,1,0],[1,1,0],[2,1,0],[3,1,0],[3,1,1],[3,1,2]];return{T5:t,T5Idle:t,T5AI2:t}[this.strat]}getTotMult(t){return Math.max(0,.159*t)+(0,h.wp)(Math.pow(this.sigma/20,this.sigma<65?0:this.sigma<75?1:this.sigma<85?2:3))}updateMilestones(){const t=Math.min(6,Math.floor(Math.max(this.lastPub,this.maxRho)/25));this.milestones=this.milestoneTree[Math.min(this.milestoneTree.length-1,t)]}calculateQ(t,s,i){let e=Math.log10(Math.E),a=-1/0;s+i>this.q?a=(0,h.$X)(s+i,this.q):s+i<this.q&&(a=(0,h.$X)(this.q,s+i));let o=s+i>=this.q?1:-1,r=0;return a>this.q?r=-Math.pow(10,s-t-i+o*Math.log10((a-this.q)/e)):a<this.q&&(r=Math.pow(10,s-t-i+o*Math.log10((this.q-a)/e))),s+i-Math.log10(1+1/Math.pow(Math.E,(r+this.dt)*Math.pow(10,t-s+i)))}simulate(){return T(this,void 0,void 0,(function*(){let t=!1;for(;!t&&rt.simulating;)(this.ticks+1)%5e5==0&&(yield(0,h._v)()),this.tick(),this.rho>this.maxRho&&(this.maxRho=this.rho),this.lastPub<150&&this.updateMilestones(),this.curMult=Math.pow(10,this.getTotMult(this.maxRho)-this.totMult),this.buyVariables(),t=(rt.forcedPubTime!==1/0?this.t>rt.forcedPubTime:this.t>2*this.pubT||this.pubRho>this.cap[0])&&this.pubRho>7,this.ticks++;this.pubMulti=Math.pow(10,this.getTotMult(this.pubRho)-this.totMult);let s=(0,h.xo)(this,"T5Idle"===this.strat?" "+(0,h.Ti)(this.variables[2].cost,1):"");for(;this.boughtVars[this.boughtVars.length-1].timeStamp>this.pubT;)this.boughtVars.pop();return rt.varBuy.push([s[7],this.boughtVars]),s}))}tick(){let t=this.variables[0].value*(1+.05*this.milestones[0]),s=this.milestones[1]>0?this.variables[4].value*(1+.05*this.milestones[2]):0;this.q=this.calculateQ(this.variables[2].value,this.variables[3].value,s);let i=t+this.variables[1].value+this.q;this.rho=(0,h.IH)(this.rho,i+this.totMult+(0,h.wp)(this.dt)),this.t+=this.dt/1.5,this.dt*=this.ddt,this.maxRho<this.recovery.value&&(this.recovery.time=this.t),this.tauH=(this.maxRho-this.lastPub)/(this.t/3600),(this.maxTauH<this.tauH||this.maxRho>=this.cap[0]-this.cap[1]||this.pubRho<7||rt.forcedPubTime!==1/0)&&(this.maxTauH=this.tauH,this.pubT=this.t,this.pubRho=this.maxRho)}buyVariables(){let t=0,s=this.milestones[1]>0?this.variables[4].value*(1+.05*this.milestones[2]):0,i=this.calculateQ(this.variables[2].value,this.variables[3].value,s);this.c2worth=i>=this.variables[3].value+s+(0,h.wp)(2/3);for(let e=this.variables.length-1;e>=0;e--)for(;this.rho>this.variables[e].cost&&this.conditions[e]()&&this.milestoneConditions[e]();){if(this.maxRho+5>this.lastPub){let t=["q1","q2","c1","c2","c3"];this.boughtVars.push({variable:t[e],level:this.variables[e].level+1,cost:this.variables[e].cost,timeStamp:this.t})}this.rho=(0,h.$X)(this.rho,this.variables[e].cost),this.variables[e].buy(),3===e&&(t++,i=this.calculateQ(this.variables[2].value,this.variables[3].value+(0,h.wp)(2)*t,s),this.c2worth=i>=this.variables[3].value+(0,h.wp)(2)*t+this.variables[4].value*(1+.05*this.milestones[2])+(0,h.wp)(2/3))}}}var C=function(t,s,i,e){return new(i||(i=Promise))((function(h,a){function o(t){try{l(e.next(t))}catch(t){a(t)}}function r(t){try{l(e.throw(t))}catch(t){a(t)}}function l(t){var s;t.done?h(t.value):(s=t.value,s instanceof i?s:new i((function(t){t(s)}))).then(o,r)}l((e=e.apply(t,s||[])).next())}))};class x{constructor(t){var s;this.strat=t.strat,this.theory="T6",this.cap="number"==typeof t.cap&&t.cap>0?[t.cap,1]:[1/0,0],this.recovery=null!==(s=t.recovery)&&void 0!==s?s:{value:0,time:0,recoveryTime:!1},this.lastPub=t.rho,this.sigma=t.sigma,this.totMult=this.getTotMult(t.rho),this.curMult=0,this.dt=rt.dt,this.ddt=rt.ddt,this.t=0,this.ticks=0,this.rho=0,this.maxRho=0,this.q=0,this.r=0,this.variables=[new l({cost:new c(15,3),stepwisePowerSum:{default:!0},firstFreeCost:!0}),new l({cost:new c(500,100),varBase:2}),new l({cost:new c(1e25,1e5),stepwisePowerSum:{default:!0}}),new l({cost:new c(1e30,1e10),varBase:2}),new l({cost:new c(10,2),value:1,stepwisePowerSum:{default:!0}}),new l({cost:new c(100,5),varBase:2}),new l({cost:new c(1e7,1.255),stepwisePowerSum:{default:!0}}),new l({cost:new c(1e25,5e5),varBase:2}),new l({cost:new c(15,3.9),varBase:2})],this.k=0,this.stopC12=[0,0,!0],this.boughtVars=[],this.tauH=0,this.maxTauH=0,this.pubT=0,this.pubRho=0,this.milestones=[0,0,0],this.pubMulti=0,this.conditions=this.getBuyingConditions(),this.milestoneConditions=this.getMilestoneConditions(),this.milestoneTree=this.getMilestoneTree(),this.updateMilestones()}getBuyingConditions(){return{T6:[!0,!0,!0,!0,!0,!0,!0,!0,!0],T6C3:[!0,!0,!0,!0,!1,!1,!0,!1,!1],T6C4:[!0,!0,!0,!0,!1,!1,!1,!0,!1],T6noC34:[!0,!0,!0,!0,!0,!0,!1,!1,!0],T6noC345:[!0,!0,!0,!0,!0,!0,!1,!1,!1],T6noC1234:[!0,!0,!0,!0,!1,!1,!1,!1,!0],T6Snax:[!0,!0,!0,!0,()=>this.stopC12[2],()=>this.stopC12[2],!1,!1,!0],T6C3d:[()=>this.variables[0].cost+(0,h.wp)(3)<Math.min(this.variables[1].cost,this.variables[3].cost,this.variables[6].cost),!0,()=>this.variables[2].cost+(0,h.wp)(3)<Math.min(this.variables[1].cost,this.variables[3].cost,this.variables[6].cost),!0,!1,!1,!0,!1,!1],T6C4d:[()=>this.variables[0].cost+(0,h.wp)(5)<Math.min(this.variables[1].cost,this.variables[3].cost,this.variables[7].cost),!0,()=>this.variables[2].cost+(0,h.wp)(5)<Math.min(this.variables[1].cost,this.variables[3].cost,this.variables[7].cost),!0,!1,!1,!1,!0,!1],T6noC34d:[()=>this.variables[0].cost+(0,h.wp)(8)<Math.min(this.variables[1].cost,this.variables[3].cost,this.variables[5].cost,this.milestones[2]>0?this.variables[8].cost:1/0),!0,()=>this.variables[2].cost+(0,h.wp)(8)<Math.min(this.variables[1].cost,this.variables[3].cost,this.variables[5].cost,this.milestones[2]>0?this.variables[8].cost:1/0),!0,()=>this.variables[4].cost+(0,h.wp)(8)<Math.min(this.variables[1].cost,this.variables[3].cost,this.variables[5].cost,this.milestones[2]>0?this.variables[8].cost:1/0),!0,!1,!1,!0],T6noC345d:[()=>this.variables[0].cost+(0,h.wp)(8)<Math.min(this.variables[1].cost,this.variables[3].cost,this.variables[5].cost),!0,()=>this.variables[2].cost+(0,h.wp)(8)<Math.min(this.variables[1].cost,this.variables[3].cost,this.variables[5].cost),!0,()=>this.variables[4].cost+(0,h.wp)(8)<Math.min(this.variables[1].cost,this.variables[3].cost,this.variables[5].cost),!0,!1,!1,!1],T6noC1234d:[()=>this.variables[0].cost+(0,h.wp)(7+this.variables[0].level%10)<Math.min(this.variables[1].cost,this.variables[3].cost,this.milestones[2]>0?this.variables[8].cost:1/0),!0,()=>this.variables[2].cost+(0,h.wp)(5)<Math.min(this.variables[1].cost,this.variables[3].cost,this.milestones[2]>0?this.variables[8].cost:1/0),!0,!1,!1,!1,!1,!0],T6AI:[]}[this.strat].map((t=>"function"==typeof t?t:()=>t))}getMilestoneConditions(){return[()=>!0,()=>!0,()=>this.milestones[0]>0,()=>this.milestones[0]>0,()=>!0,()=>!0,()=>!0,()=>!0,()=>this.milestones[2]>0]}getMilestoneTree(){const t=[[0,0,0,0],[0,1,0,0],[1,1,0,0],[1,1,1,0],[1,0,0,3],[1,0,1,3],[1,1,1,3]];return{T6:t,T6C3:t,T6C4:t,T6noC34:t,T6noC345:t,T6noC1234:t,T6Snax:t,T6C3d:t,T6C4d:t,T6noC34d:t,T6noC345d:t,T6noC1234d:t,T6AI:t}[this.strat]}getTotMult(t){return Math.max(0,.196*t)-(0,h.wp)(50)+(0,h.wp)(Math.pow(this.sigma/20,this.sigma<65?0:this.sigma<75?1:this.sigma<85?2:3))}updateMilestones(){const t=Math.min(6,Math.floor(Math.max(this.lastPub,this.maxRho)/25));this.milestones=this.milestoneTree[Math.min(this.milestoneTree.length-1,t)]}calculateIntegral(t,s,i,e,a){let o=t+s+this.q+this.r,r=i+2*this.q+this.r-(0,h.wp)(2),l=this.milestones[1]>0?e+3*this.q+this.r-(0,h.wp)(3):0,n=this.milestones[2]>0?a+this.q+2*this.r-(0,h.wp)(2):0;return this.k=n-o,this.totMult+(0,h.IH)(o,(0,h.IH)(r,(0,h.IH)(l,n)))}simulate(){return C(this,void 0,void 0,(function*(){let t=!1;for(;!t&&rt.simulating;)(this.ticks+1)%5e5==0&&(yield(0,h._v)()),this.tick(),this.rho>this.maxRho&&(this.maxRho=this.rho),this.lastPub<150&&this.updateMilestones(),this.curMult=Math.pow(10,this.getTotMult(this.maxRho)-this.totMult),this.buyVariables(),t=(rt.forcedPubTime!==1/0?this.t>rt.forcedPubTime:this.t>2*this.pubT||this.pubRho>this.cap[0])&&this.pubRho>12,this.ticks++;this.pubMulti=Math.pow(10,this.getTotMult(this.pubRho)-this.totMult);let s=(0,h.xo)(this,"T6Snax"===this.strat?" "+(0,h.Ti)(this.stopC12[0],1):"");for(;this.boughtVars[this.boughtVars.length-1].timeStamp>this.pubT;)this.boughtVars.pop();return rt.varBuy.push([s[7],this.boughtVars]),s}))}tick(){let t=this.variables[4].value*(1+.05*this.milestones[3]),s=(0,h.$X)(this.calculateIntegral(t,this.variables[5].value,this.variables[6].value,this.variables[7].value,this.variables[8].value),this.rho);this.q=(0,h.IH)(this.q,this.variables[0].value+this.variables[1].value+(0,h.wp)(this.dt)),this.r=this.milestones[0]>0?(0,h.IH)(this.r,this.variables[2].value+this.variables[3].value+(0,h.wp)(this.dt)-3):0;let i=this.calculateIntegral(t,this.variables[5].value,this.variables[6].value,this.variables[7].value,this.variables[8].value);s=s>i?i:s,this.rho=Math.max(0,(0,h.$X)(i,s)),this.k>.3?this.stopC12[1]++:this.stopC12[1]=0,this.stopC12[1]>30&&this.stopC12[2]&&(this.stopC12[0]=this.maxRho,this.stopC12[2]=!1),this.t+=this.dt/1.5,this.dt*=this.ddt,this.maxRho<this.recovery.value&&(this.recovery.time=this.t),this.tauH=(this.maxRho-this.lastPub)/(this.t/3600),(this.maxTauH<this.tauH||this.maxRho>=this.cap[0]-this.cap[1]||this.pubRho<12||rt.forcedPubTime!==1/0)&&(this.maxTauH=this.tauH,this.pubT=this.t,this.pubRho=this.maxRho)}buyVariables(){if("T6AI"!==this.strat)for(let t=this.variables.length-1;t>=0;t--)for(;this.rho>this.variables[t].cost&&this.conditions[t]()&&this.milestoneConditions[t]();){if(this.maxRho+5>this.lastPub){let s=["q1","q2","r1","r2","c1","c2","c3","c4","c5"];this.boughtVars.push({variable:s[t],level:this.variables[t].level+1,cost:this.variables[t].cost,timeStamp:this.t})}this.rho=(0,h.$X)(this.rho,this.variables[t].cost),this.variables[t].buy()}else for(;;){let t=this.variables.map((t=>t.cost)),s=[(0,h.wp)(7+this.variables[0].level%10),0,(0,h.wp)(5+this.variables[2].level%10),0,Math.max(0,this.k)+(0,h.wp)(8+this.variables[4].level%10),Math.max(0,this.k),1/0,1/0,-Math.min(0,this.k)],i=[Number.MAX_VALUE,-1];for(let e=this.variables.length-1;e>=0;e--)t[e]+s[e]<i[0]&&this.milestoneConditions[e]()&&(i=[t[e]+s[e],e]);if(!(-1!==i[1]&&t[i[1]]<this.rho))break;if(this.rho=(0,h.$X)(this.rho,this.variables[i[1]].cost),this.maxRho+5>this.lastPub){let t=["q1","q2","r1","r2","c1","c2","c3","c4","c5"];this.boughtVars.push({variable:t[i[1]],level:this.variables[i[1]].level+1,cost:this.variables[i[1]].cost,timeStamp:this.t})}this.variables[i[1]].buy()}}}var S=function(t,s,i,e){return new(i||(i=Promise))((function(h,a){function o(t){try{l(e.next(t))}catch(t){a(t)}}function r(t){try{l(e.throw(t))}catch(t){a(t)}}function l(t){var s;t.done?h(t.value):(s=t.value,s instanceof i?s:new i((function(t){t(s)}))).then(o,r)}l((e=e.apply(t,s||[])).next())}))};class R{constructor(t){var s;this.strat=t.strat,this.theory="T7",this.cap="number"==typeof t.cap&&t.cap>0?[t.cap,1]:[1/0,0],this.recovery=null!==(s=t.recovery)&&void 0!==s?s:{value:0,time:0,recoveryTime:!1},this.lastPub=t.rho,this.sigma=t.sigma,this.totMult=this.getTotMult(t.rho),this.curMult=0,this.dt=rt.dt,this.ddt=rt.ddt,this.t=0,this.ticks=0,this.rho=0,this.maxRho=0,this.rho2=0,this.variables=[new l({cost:new c(500,1.51572),stepwisePowerSum:{default:!0},firstFreeCost:!0}),new l({cost:new c(10,1.275),value:1,stepwisePowerSum:{default:!0}}),new l({cost:new c(40,8),varBase:2}),new l({cost:new c(1e5,63),varBase:2}),new l({cost:new c(10,2.82),varBase:2}),new l({cost:new c(1e8,60),varBase:2}),new l({cost:new c(100,2.81),varBase:2})],this.drho13=0,this.drho23=0,this.c2ratio=1/0,this.boughtVars=[],this.tauH=0,this.maxTauH=0,this.pubT=0,this.pubRho=0,this.milestones=[0,0,0,0,0],this.pubMulti=0,this.conditions=this.getBuyingConditions(),this.milestoneConditions=this.getMilestoneConditions(),this.milestoneTree=this.getMilestoneTree(),this.updateMilestones()}getBuyingConditions(){return this.lastPub>=100&&(this.c2ratio=100),this.lastPub>=175&&(this.c2ratio=10),this.lastPub>=250&&(this.c2ratio=20),this.lastPub>=275&&(this.c2ratio=50),this.lastPub>=300&&(this.c2ratio=1/0),{T7:[!0,!0,!0,!0,!0,!0,!0],T7C12:[!0,!0,!0,!1,!1,!1,!1],T7C3:[!0,!1,!1,!0,!1,!1,!1],T7noC12:[!0,!1,!1,!0,!0,!0,!0],T7noC123:[!0,!1,!1,!1,!0,!0,!0],T7noC1234:[!0,!1,!1,!1,!1,!0,!0],T7C12d:[()=>this.variables[0].cost+1<this.variables[2].cost,()=>this.variables[1].cost+(0,h.wp)(8)<this.variables[2].cost,!0,!1,!1,!1,!1],T7C3d:[()=>this.variables[0].cost+1<this.variables[3].cost,!1,!1,!0,!1,!1,!1],T7PlaySpqcey:[()=>this.variables[0].cost+(0,h.wp)(4)<this.variables[6].cost,()=>this.variables[1].cost+(0,h.wp)(10+this.variables[2].level)<this.variables[2].cost,()=>this.variables[2].cost+(0,h.wp)(this.c2ratio)<this.variables[6].cost,()=>this.variables[3].cost+1<this.variables[6].cost,()=>this.variables[4].cost+1<this.variables[6].cost,()=>this.variables[5].cost+(0,h.wp)(4)<this.variables[6].cost,!0]}[this.strat].map((t=>"function"==typeof t?t:()=>t))}getMilestoneConditions(){return[()=>!0,()=>!0,()=>!0,()=>this.milestones[1]>0,()=>this.milestones[0]>0,()=>this.milestones[2]>0,()=>this.milestones[3]>0]}getMilestoneTree(){return{T7:[[0,0,0,0,0],[0,1,0,0,0],[1,1,0,0,0],[1,1,1,0,0],[1,1,1,1,0],[1,1,1,1,1],[1,1,1,1,2],[1,1,1,1,3]],T7C12:[[0,0,0,0,0],[0,0,0,0,1],[0,0,0,0,2],[0,0,0,0,3]],T7C3:[[0,0,0,0,0],[0,1,0,0,0]],T7noC12:[[0,0,0,0,0],[0,1,0,0,0],[1,1,0,0,0],[1,1,1,0,0],[1,1,1,1,0]],T7noC123:[[0,0,0,0,0],[1,0,0,0,0],[1,0,1,0,0],[1,0,1,1,0]],T7noC1234:[[0,0,0,0,0],[1,0,0,0,0],[1,0,1,0,0],[1,0,1,1,0]],T7C12d:[[0,0,0,0,0],[0,0,0,0,1],[0,0,0,0,2],[0,0,0,0,3]],T7C3d:[[0,0,0,0,0],[0,1,0,0,0]],T7PlaySpqcey:[[0,0,0,0,0],[0,1,0,0,0],[1,1,0,0,0],[1,1,1,0,0],[1,1,1,1,0],[1,1,1,1,1],[1,1,1,1,2],[1,1,1,1,3]]}[this.strat]}getTotMult(t){return Math.max(0,.152*t)+(0,h.wp)(Math.pow(this.sigma/20,this.sigma<65?0:this.sigma<75?1:this.sigma<85?2:3))}updateMilestones(){const t=Math.min(7,Math.floor(Math.max(this.lastPub,this.maxRho)/25));this.milestones=this.milestoneTree[Math.min(this.milestoneTree.length-1,t)]}simulate(){return S(this,void 0,void 0,(function*(){let t=!1;for(;!t&&rt.simulating;)(this.ticks+1)%5e5==0&&(yield(0,h._v)()),this.tick(),this.rho>this.maxRho&&(this.maxRho=this.rho),this.lastPub<175&&this.updateMilestones(),this.curMult=Math.pow(10,this.getTotMult(this.maxRho)-this.totMult),this.buyVariables(),t=(rt.forcedPubTime!==1/0?this.t>rt.forcedPubTime:this.t>2*this.pubT||this.pubRho>this.cap[0])&&this.pubRho>10,this.ticks++;this.pubMulti=Math.pow(10,this.getTotMult(this.pubRho)-this.totMult);let s=(0,h.xo)(this,"T7PlaySpqcey"===this.strat&&this.c2ratio!==1/0?this.c2ratio.toString():"");for(;this.boughtVars[this.boughtVars.length-1].timeStamp>this.pubT;)this.boughtVars.pop();return rt.varBuy.push([s[7],this.boughtVars]),s}))}tick(){let t=this.variables[1].value*(1+.05*this.milestones[4])+this.variables[2].value,s=this.milestones[1]>0?(0,h.wp)(1.5)+this.variables[3].value+this.rho/2:0,i=this.milestones[0]>0?this.variables[4].value:0,e=this.milestones[2]>0?(0,h.wp)(1.5)+this.variables[5].value+this.rho2/2:0;this.drho13=this.milestones[3]>0?Math.min(this.drho13+2,Math.min((0,h.wp)(.5)+this.variables[6].value+this.rho2/2-this.rho/2,this.rho+2)):0,this.drho23=this.milestones[3]>0?Math.min(this.drho23+2,Math.min((0,h.wp)(.5)+this.variables[6].value+this.rho/2-this.rho2/2,this.rho2+2)):0;let a=(0,h.wp)(this.dt)+this.variables[0].value+this.totMult;this.rho=(0,h.IH)(this.rho,a+(0,h.IH)((0,h.IH)(t,s),this.drho13)),this.rho2=(0,h.IH)(this.rho2,a+(0,h.IH)((0,h.IH)(i,e),this.drho23)),this.t+=this.dt/1.5,this.dt*=this.ddt,this.maxRho<this.recovery.value&&(this.recovery.time=this.t),this.tauH=(this.maxRho-this.lastPub)/(this.t/3600),(this.maxTauH<this.tauH||this.maxRho>=this.cap[0]-this.cap[1]||this.pubRho<10||rt.forcedPubTime!==1/0)&&(this.maxTauH=this.tauH,this.pubT=this.t,this.pubRho=this.maxRho)}buyVariables(){for(let t=this.variables.length-1;t>=0;t--)for(;this.rho>this.variables[t].cost&&this.conditions[t]()&&this.milestoneConditions[t]();){if(this.maxRho+5>this.lastPub){let s=["q1","c1","c2","c3","c4","c5","c6"];this.boughtVars.push({variable:s[t],level:this.variables[t].level+1,cost:this.variables[t].cost,timeStamp:this.t})}this.rho=(0,h.$X)(this.rho,this.variables[t].cost),this.variables[t].buy()}}}var P=function(t,s,i,e){return new(i||(i=Promise))((function(h,a){function o(t){try{l(e.next(t))}catch(t){a(t)}}function r(t){try{l(e.throw(t))}catch(t){a(t)}}function l(t){var s;t.done?h(t.value):(s=t.value,s instanceof i?s:new i((function(t){t(s)}))).then(o,r)}l((e=e.apply(t,s||[])).next())}))};class I{constructor(t){var s;this.strat=t.strat,this.theory="T8",this.cap="number"==typeof t.cap&&t.cap>0?[t.cap,1]:[1/0,0],this.recovery=null!==(s=t.recovery)&&void 0!==s?s:{value:0,time:0,recoveryTime:!1},this.lastPub=t.rho,this.sigma=t.sigma,this.totMult=this.getTotMult(t.rho),this.curMult=0,this.dt=rt.dt,this.ddt=rt.ddt,this.t=0,this.ticks=0,this.rho=0,this.maxRho=0,this.variables=[new l({cost:new c(10,1.5172),stepwisePowerSum:{default:!0},firstFreeCost:!0}),new l({cost:new c(20,64),varBase:2}),new l({cost:new c(100,1.15*Math.log2(3),!0),varBase:3}),new l({cost:new c(100,1.15*Math.log2(5),!0),varBase:5}),new l({cost:new c(100,1.15*Math.log2(7),!0),varBase:7})],this.boughtVars=[],this.tauH=0,this.maxTauH=0,this.pubT=0,this.pubRho=0,this.milestones=[0,0,0,0],this.bounds=[[[0,-20,20],[0,-27,27],[24.5,1,48]],[[.5,-23,24],[1,-25,27],[20.5,1,40]],[[1,-20,22],[-1.5,-21,18],[8,0,37]]],this.defaultStates=[[-6,-8,26],[-10.6,-4.4,28.6],[-6,15,0]],this.dts=[.02,.002,14e-5],this.x=this.defaultStates[this.milestones[0]][0],this.y=this.defaultStates[this.milestones[0]][1],this.z=this.defaultStates[this.milestones[0]][2],this.dx=0,this.dy=0,this.dz=0,this.msTimer=0,this.pubMulti=0,this.conditions=this.getBuyingConditions(),this.milestoneConditions=this.getMilestoneConditions(),this.milestoneTree=this.getMilestoneTree(),this.updateMilestones()}getBuyingConditions(){return{T8:[!0,!0,!0,!0,!0],T8noC3:[!0,!0,!1,!0,!0],T8noC5:[!0,!0,!0,!0,!1],T8noC35:[!0,!0,!1,!0,!1],T8Snax:[()=>this.curMult<1.6,!0,()=>this.curMult<2.3,!0,()=>this.curMult<2.3],T8noC3d:[()=>this.variables[0].cost+1<Math.min(this.variables[1].cost,this.variables[3].cost),!0,!1,!0,!0],T8noC5d:[()=>this.variables[0].cost+1<Math.min(this.variables[1].cost,this.variables[3].cost),!0,!0,!0,!1],T8noC35d:[()=>this.variables[0].cost+1<Math.min(this.variables[1].cost,this.variables[3].cost),!0,!1,!0,!1],T8d:[()=>this.variables[0].cost+1<Math.min(this.variables[1].cost,this.variables[3].cost),!0,!0,!0,!0],T8Play:[()=>this.variables[0].cost+(0,h.wp)(8)<Math.min(this.variables[1].cost,this.variables[3].cost),!0,()=>this.variables[2].cost+(0,h.wp)(2.5)<Math.min(this.variables[1].cost,this.variables[3].cost),!0,()=>this.variables[4].cost+(0,h.wp)(4)<Math.min(this.variables[1].cost,this.variables[3].cost)],T8PlaySolarswap:[()=>this.variables[0].cost+(0,h.wp)(8)<Math.min(this.variables[1].cost,this.variables[3].cost),!0,()=>this.variables[2].cost+(0,h.wp)(2.5)<Math.min(this.variables[1].cost,this.variables[3].cost),!0,()=>this.variables[4].cost+(0,h.wp)(2.5)<Math.min(this.variables[1].cost,this.variables[3].cost)]}[this.strat].map((t=>"function"==typeof t?t:()=>t))}getMilestoneConditions(){return[()=>!0,()=>!0,()=>!0,()=>!0,()=>!0]}getMilestoneTree(){const t=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[0,0,0,3],[1,0,3,0],[2,0,3,0],[2,0,3,1],[2,0,3,2],[2,0,3,3],[2,1,3,3],[2,2,3,3],[2,3,3,3]];return{T8:[[0,0,0,0],[1,0,0,0],[2,0,0,0],[0,0,0,3],[1,0,3,0],[2,0,3,0],[2,0,3,1],[2,0,3,2],[2,0,3,3],[2,1,3,3],[2,2,3,3],[2,3,3,3]],T8noC3:[[0,0,0,0],[1,0,0,0],[2,0,0,0],[2,0,1,0],[2,0,2,0],[2,0,3,0],[2,0,3,1],[2,0,3,2],[2,0,3,3]],T8noC5:[[0,0,0,0],[1,0,0,0],[2,0,0,0],[2,0,1,0],[2,0,2,0],[2,0,3,0],[2,1,3,0],[2,2,3,0],[2,3,3,0]],T8noC35:[[0,0,0,0],[1,0,0,0],[2,0,0,0],[2,0,1,0],[2,0,2,0],[2,0,3,0]],T8Snax:[[0,0,0,0],[1,0,0,0],[2,0,0,0],[0,0,0,3],[1,0,3,0],[2,0,3,0],[2,0,3,1],[2,0,3,2],[2,0,3,3],[2,1,3,3],[2,2,3,3],[2,3,3,3]],T8noC3d:[[0,0,0,0],[1,0,0,0],[2,0,0,0],[2,0,1,0],[2,0,2,0],[2,0,3,0],[2,0,3,1],[2,0,3,2],[2,0,3,3]],T8noC5d:[[0,0,0,0],[1,0,0,0],[2,0,0,0],[2,0,1,0],[2,0,2,0],[2,0,3,0],[2,1,3,0],[2,2,3,0],[2,3,3,0]],T8noC35d:[[0,0,0,0],[1,0,0,0],[2,0,0,0],[2,0,1,0],[2,0,2,0],[2,0,3,0]],T8d:t,T8Play:t,T8PlaySolarswap:t}[this.strat]}getTotMult(t){return Math.max(0,.15*t)+(0,h.wp)(Math.pow(this.sigma/20,this.sigma<65?0:this.sigma<75?1:this.sigma<85?2:3))}updateMilestones(){const t=Math.min(11,Math.floor(Math.max(this.lastPub,this.maxRho)/20));this.milestones=this.milestoneTree[Math.min(this.milestoneTree.length-1,t)]}dn(t=this.x,s=this.y,i=this.z){0===this.milestones[0]&&(this.dx=10*(s-t),this.dy=t*(28-i)-s,this.dz=t*s-8*i/3),1===this.milestones[0]&&(this.dx=40*(s-t)*10,this.dy=10*(-12*t-t*i+28*s),this.dz=10*(t*s-3*i)),2===this.milestones[0]&&(this.dx=500*(-s-i),this.dy=500*(t+.1*s),this.dz=500*(.1+i*(t-14)))}simulate(){return P(this,void 0,void 0,(function*(){let t=!1;for(;!t&&rt.simulating;)(this.ticks+1)%5e5==0&&(yield(0,h._v)()),this.tick(),this.rho>this.maxRho&&(this.maxRho=this.rho),this.lastPub<220&&this.updateMilestones(),this.curMult=Math.pow(10,this.getTotMult(this.maxRho)-this.totMult),this.buyVariables(),t=(rt.forcedPubTime!==1/0?this.t>rt.forcedPubTime:this.t>2*this.pubT||this.pubRho>this.cap[0])&&this.pubRho>8,this.ticks++;this.pubMulti=Math.pow(10,this.getTotMult(this.pubRho)-this.totMult);let s=(0,h.xo)(this,"");for(;this.boughtVars[this.boughtVars.length-1].timeStamp>this.pubT;)this.boughtVars.pop();return rt.varBuy.push([s[7],this.boughtVars]),s}))}tick(){this.dn();let t=this.x+.5*this.dx*this.dts[this.milestones[0]],s=this.y+.5*this.dy*this.dts[this.milestones[0]],i=this.z+.5*this.dz*this.dts[this.milestones[0]];this.dn(t,s,i),this.x+=this.dx*this.dts[this.milestones[0]],this.y+=this.dy*this.dts[this.milestones[0]],this.z+=this.dz*this.dts[this.milestones[0]],this.dn();let e=5*(this.bounds[this.milestones[0]][0][1]-this.bounds[this.milestones[0]][0][0])+this.bounds[this.milestones[0]][0][0],a=5*(this.bounds[this.milestones[0]][0][2]-this.bounds[this.milestones[0]][0][0])+this.bounds[this.milestones[0]][0][0],o=5*(this.bounds[this.milestones[0]][1][1]-this.bounds[this.milestones[0]][1][0])+this.bounds[this.milestones[0]][1][0],r=5*(this.bounds[this.milestones[0]][1][2]-this.bounds[this.milestones[0]][1][0])+this.bounds[this.milestones[0]][1][0],l=5*(this.bounds[this.milestones[0]][2][1]-this.bounds[this.milestones[0]][2][0])+this.bounds[this.milestones[0]][2][0],n=5*(this.bounds[this.milestones[0]][2][2]-this.bounds[this.milestones[0]][2][0])+this.bounds[this.milestones[0]][2][0];(this.x<e||this.x>a||this.y<o||this.y>r||this.z<l||this.z>n)&&(this.x=this.defaultStates[this.milestones[0]][0],this.y=this.defaultStates[this.milestones[0]][1],this.z=this.defaultStates[this.milestones[0]][2]),this.dn(),this.msTimer++,335==this.msTimer&&"T8PlaySolarswap"===this.strat&&(this.x=this.defaultStates[this.milestones[0]][0],this.y=this.defaultStates[this.milestones[0]][1],this.z=this.defaultStates[this.milestones[0]][2],this.msTimer=0);let u=this.variables[2].value*(1+.05*this.milestones[1]),c=this.variables[3].value*(1+.05*this.milestones[2]),v=this.variables[4].value*(1+.05*this.milestones[3]),p=u+(0,h.wp)(this.dx*this.dx),m=c+(0,h.wp)(this.dy*this.dy),b=v+(0,h.wp)(this.dz*this.dz),d=(0,h.wp)(this.dt)+this.totMult+this.variables[0].value+this.variables[1].value+(0,h.IH)((0,h.IH)(p,m),b)/2-2;this.rho=(0,h.IH)(this.rho,d),this.t+=this.dt/1.5,this.dt*=this.ddt,this.maxRho<this.recovery.value&&(this.recovery.time=this.t),this.tauH=(this.maxRho-this.lastPub)/(this.t/3600),(this.maxTauH<this.tauH||this.maxRho>=this.cap[0]-this.cap[1]||this.pubRho<8||rt.forcedPubTime!==1/0)&&(this.maxTauH=this.tauH,this.pubT=this.t,this.pubRho=this.maxRho)}buyVariables(){for(let t=this.variables.length-1;t>=0;t--)for(;this.rho>this.variables[t].cost&&this.conditions[t]()&&this.milestoneConditions[t]();){if(this.maxRho+5>this.lastPub){let s=["c1","c2","c3","c4","c5"];this.boughtVars.push({variable:s[t],level:this.variables[t].level+1,cost:this.variables[t].cost,timeStamp:this.t})}this.rho=(0,h.$X)(this.rho,this.variables[t].cost),this.variables[t].buy()}}}var H=function(t,s,i,e){return new(i||(i=Promise))((function(h,a){function o(t){try{l(e.next(t))}catch(t){a(t)}}function r(t){try{l(e.throw(t))}catch(t){a(t)}}function l(t){var s;t.done?h(t.value):(s=t.value,s instanceof i?s:new i((function(t){t(s)}))).then(o,r)}l((e=e.apply(t,s||[])).next())}))};class F{constructor(t){var s;this.srK_helper=t=>{let s=t*t;return Math.log(s+1/6+1/120/s+1/810/s/s)/2-1},this.sineRatioK=(t,s,i=5)=>{if(t<1||s>=t+1)return 0;let e=t+1+i,h=s*s,a=this.srK_helper(e+s),o=this.srK_helper(e-s),r=e*(a+o-2*this.srK_helper(e))+s*(a-o)-Math.log(1-h/e/e)/2;for(let s=t+1;s<e;++s)r-=Math.log(1-h/s/s);return Math.LOG10E*r},this.strat=t.strat,this.theory="WSP",this.tauFactor=e.Jp.WSP.tauFactor,this.cap="number"==typeof t.cap&&t.cap>0?[t.cap,1]:[1/0,0],this.recovery=null!==(s=t.recovery)&&void 0!==s?s:{value:0,time:0,recoveryTime:!1},this.lastPub=t.rho,this.sigma=t.sigma,this.totMult=this.getTotMult(t.rho),this.curMult=0,this.dt=rt.dt,this.ddt=rt.ddt,this.t=0,this.ticks=0,this.rho=0,this.maxRho=0,this.q=0,this.variables=[new l({cost:new c(10,.845,!0),stepwisePowerSum:{default:!0},firstFreeCost:!0}),new l({cost:new c(1e3,10.14,!0),varBase:2}),new l({cost:new c(20,3.38,!0)}),new l({cost:new c(50,3.38/1.5,!0),stepwisePowerSum:{base:2,length:50}}),new l({cost:new c(1e10,33.8,!0),varBase:2})],this.S=0,this.boughtVars=[],this.tauH=0,this.maxTauH=0,this.pubT=0,this.pubRho=0,this.milestones=[0,0,0],this.pubMulti=0,this.conditions=this.getBuyingConditions(),this.milestoneConditions=this.getMilestoneConditions(),this.milestoneTree=this.getMilestoneTree(),this.updateMilestones()}getBuyingConditions(){let t=0;return this.lastPub>=25&&(t=(0,h.wp)(3)),this.lastPub>=40&&(t=1),this.lastPub>=200&&(t=(0,h.wp)(50)),this.lastPub>=400&&(t=3),this.lastPub>=700&&(t=1e4),{WSP:[!0,!0,!0,!0,!0],WSPStopC1:[!0,!0,!0,()=>this.lastPub<450||this.t<15,!0],WSPdStopC1:[()=>this.variables[0].cost+(0,h.wp)(8+this.variables[0].level%10)<Math.min(this.variables[1].cost,this.variables[2].cost,this.milestones[1]>0?this.variables[4].cost:1/0),!0,!0,()=>this.variables[3].cost+t<Math.min(this.variables[1].cost,this.variables[2].cost,this.milestones[1]>0?this.variables[4].cost:1/0)||this.t<15,!0]}[this.strat].map((t=>"function"==typeof t?t:()=>t))}getMilestoneConditions(){return[()=>!0,()=>!0,()=>!0,()=>!0,()=>this.milestones[1]>0]}getMilestoneTree(){const t=[[0,0,0],[0,0,1],[0,0,2],[0,0,3],[0,1,3],[1,1,3],[2,1,3],[3,1,3],[4,1,3]];return{WSP:t,WSPStopC1:t,WSPdStopC1:t}[this.strat]}getTotMult(t){return Math.max(0,t*this.tauFactor*1.5)}updateMilestones(){let t=0,s=[10,25,40,55,70,100,140,200];for(let i=0;i<s.length;i++)Math.max(this.lastPub,this.maxRho)>=s[i]&&(t=i+1);this.milestones=this.milestoneTree[Math.min(this.milestoneTree.length-1,t)]}updateS(){let t=(0,h.wp)(this.variables[2].value),s=this.variables[3].value,i=Math.pow(10,(0,h.wp)(Math.PI)+s+t-(0,h.IH)(s,t-(0,h.wp)(3)*this.milestones[2]))+1;this.S=this.sineRatioK(this.variables[2].value,i/Math.PI)}simulate(){return H(this,void 0,void 0,(function*(){let t=!1;for(;!t&&rt.simulating;)(this.ticks+1)%5e5==0&&(yield(0,h._v)()),this.tick(),this.rho>this.maxRho&&(this.maxRho=this.rho),this.lastPub<200&&this.updateMilestones(),this.curMult=Math.pow(10,this.getTotMult(this.maxRho)-this.totMult),this.buyVariables(),t=(rt.forcedPubTime!==1/0?this.t>rt.forcedPubTime:this.t>2*this.pubT||this.pubRho>this.cap[0]||this.curMult>15)&&this.pubRho>8,this.ticks++;this.pubMulti=Math.pow(10,this.getTotMult(this.pubRho)-this.totMult);let s=(0,h.xo)(this,"");for(;this.boughtVars[this.boughtVars.length-1].timeStamp>this.pubT;)this.boughtVars.pop();return rt.varBuy.push([s[7],this.boughtVars]),s}))}tick(){let t=this.variables[0].value*(1+.01*this.milestones[0]),s=Math.max(0,(0,h.wp)(this.dt)+this.S+this.variables[4].value);this.q=(0,h.IH)(this.q,s);let i=this.totMult+t+this.variables[1].value+this.q+(0,h.wp)(this.dt);this.rho=(0,h.IH)(this.rho,i),this.t+=this.dt/1.5,this.dt*=this.ddt,this.maxRho<this.recovery.value&&(this.recovery.time=this.t),this.tauH=(this.maxRho-this.lastPub)/(this.t/3600),(this.maxTauH<this.tauH||this.maxRho>=this.cap[0]-this.cap[1]||this.pubRho<8||rt.forcedPubTime!==1/0)&&(this.maxTauH=this.tauH,this.pubT=this.t,this.pubRho=this.maxRho)}buyVariables(){let t=!1;for(let s=this.variables.length-1;s>=0;s--)for(;this.rho>this.variables[s].cost&&this.conditions[s]()&&this.milestoneConditions[s]();){if(this.rho=(0,h.$X)(this.rho,this.variables[s].cost),this.maxRho+5>this.lastPub){let t=["q1","q2","n","c1","c2"];this.boughtVars.push({variable:t[s],level:this.variables[s].level+1,cost:this.variables[s].cost,timeStamp:this.t})}this.variables[s].buy(),2!==s&&4!==s||(t=!0)}t&&this.updateS()}}var V=function(t,s,i,e){return new(i||(i=Promise))((function(h,a){function o(t){try{l(e.next(t))}catch(t){a(t)}}function r(t){try{l(e.throw(t))}catch(t){a(t)}}function l(t){var s;t.done?h(t.value):(s=t.value,s instanceof i?s:new i((function(t){t(s)}))).then(o,r)}l((e=e.apply(t,s||[])).next())}))};class A{constructor(t){var s;this.updateInverseE_Gamma=t=>{let s=(0,h.wp)((0,h.wp)(2)/Math.LOG10E+t/Math.LOG10E+(0,h.wp)(Math.PI)/Math.LOG10E)-((0,h.wp)(2)+t);this.inverseE_Gamma=0-Math.LOG10E-(0,h.IH)((0,h.$X)(s,s+s-(0,h.wp)(2)),s+s+s+(0,h.wp)(6))},this.strat=t.strat,this.theory="SL",this.tauFactor=e.Jp.SL.tauFactor,this.cap="number"==typeof t.cap&&t.cap>0?[t.cap,1]:[1/0,0],this.recovery=null!==(s=t.recovery)&&void 0!==s?s:{value:0,time:0,recoveryTime:!1},this.lastPub=t.rho,this.sigma=t.sigma,this.totMult=this.getTotMult(t.rho),this.curMult=0,this.dt=rt.dt,this.ddt=rt.ddt,this.t=0,this.ticks=0,this.rho=0,this.maxRho=0,this.rho2=0,this.rho3=0,this.q=0,this.variables=[new l({cost:new c(1,.369*Math.log2(10),!0),stepwisePowerSum:{base:3.5,length:3},firstFreeCost:!0}),new l({cost:new c(175,10),varBase:2}),new l({cost:new c(500,.649*Math.log2(10),!0),stepwisePowerSum:{base:6.5,length:4}}),new l({cost:new c(1e3,.926*Math.log2(10),!0),varBase:2})],this.inverseE_Gamma=0,this.boughtVars=[],this.tauH=0,this.maxTauH=0,this.pubT=0,this.pubRho=0,this.milestones=[0,0,0,0],this.pubMulti=0,this.conditions=this.getBuyingConditions(),this.milestoneConditions=this.getMilestoneConditions(),this.updateMilestones()}getBuyingConditions(){return{SL:[!0,!0,!0,!0],SLStopA:[()=>this.curMult<4.5,()=>this.curMult<4.5,()=>this.curMult<6,()=>this.curMult<6],SLStopAd:[()=>this.curMult<4.5&&this.variables[0].cost+(0,h.wp)(this.variables[0].level%3*2+1e-4)<this.variables[1].cost,()=>this.curMult<4.5,()=>this.curMult<6&&this.variables[2].cost+(0,h.wp)(this.variables[2].cost%4)<this.variables[3].cost,()=>this.curMult<6],SLMS:[()=>this.curMult<4,()=>this.curMult<4,()=>this.curMult<7.5,()=>this.curMult<7.5],SLMSd:[()=>this.curMult<4&&this.variables[0].cost+(0,h.wp)(this.variables[0].level%3*2+1e-4)<this.variables[1].cost,()=>this.curMult<4,()=>this.curMult<7.5&&this.variables[2].cost+(0,h.wp)(this.variables[2].cost%4)<this.variables[3].cost,()=>this.curMult<7.5]}[this.strat].map((t=>"function"==typeof t?t:()=>t))}getMilestoneConditions(){return[()=>!0,()=>!0,()=>!0,()=>!0]}getTotMult(t){return Math.max(0,t*this.tauFactor*1.5)}updateMilestones(){let t=Math.max(this.lastPub,this.maxRho),s=Math.min(13,Math.floor(t/25));this.milestones=[0,0,0,0];let i=[4,3,1,2];if(("SLMS"===this.strat||"SLMSd"===this.strat)&&t>=25&&t<=300){let s=5,e=4;t<50?(s=5,e=4):t<75?(s=7,e=6):t<100?(s=12,e=10):t<150?(s=20,e=15):t<175?(s=8,e=6):t<200?(s=1.5,e=1):t<275?(s=3,e=3):t<300&&(s=2,e=2);let a=Math.min(this.variables[2].cost,this.variables[3].cost);this.rho+(0,h.wp)(s)<a?i=[4,3,1,2]:this.curMult>4.5||this.rho+(0,h.wp)(e)>a?i=[1,2,4,3]:this.rho+(0,h.wp)(s)>a&&this.rho+(0,h.wp)(e)<a&&(i=[2,1,4,3])}const e=[3,5,2,2];for(let t=0;t<i.length;t++)for(;this.milestones[i[t]-1]<e[i[t]-1]&&s>0;)this.milestones[i[t]-1]++,s--}simulate(){return V(this,void 0,void 0,(function*(){let t=!1;for(;!t&&rt.simulating;)(this.ticks+1)%5e5==0&&(yield(0,h._v)()),this.tick(),this.rho>this.maxRho&&(this.maxRho=this.rho),this.lastPub<300&&this.updateMilestones(),this.curMult=Math.pow(10,this.getTotMult(this.maxRho)-this.totMult),this.buyVariables(),t=(rt.forcedPubTime!==1/0?this.t>rt.forcedPubTime:this.t>2*this.pubT||this.pubRho>this.cap[0]||this.curMult>15)&&this.pubRho>10,this.ticks++;this.pubMulti=Math.pow(10,this.getTotMult(this.pubRho)-this.totMult);let s=(0,h.xo)(this,"");for(;this.boughtVars[this.boughtVars.length-1].timeStamp>this.pubT;)this.boughtVars.pop();return rt.varBuy.push([s[7],this.boughtVars]),s}))}tick(){let t=this.variables[2].value*(1+.02*this.milestones[2])+this.variables[3].value*(1+.02*this.milestones[3]);this.rho3=(0,h.IH)(this.rho3,t+(0,h.wp)(this.dt)),this.updateInverseE_Gamma(Math.max(1,this.rho3));let s=Math.LOG10E*(this.variables[0].value/Math.LOG10E+this.variables[1].value/Math.LOG10E-Math.log(2-.008*this.milestones[1])*(Math.max(1,this.rho3)/Math.LOG10E));this.rho2=(0,h.IH)(this.rho2,Math.max(0,s)+(0,h.wp)(this.dt));let i=this.rho2*(1+.02*this.milestones[0])*.5+this.inverseE_Gamma;this.rho=(0,h.IH)(this.rho,i+this.totMult+(0,h.wp)(this.dt)),this.t+=this.dt/1.5,this.dt*=this.ddt,this.maxRho<this.recovery.value&&(this.recovery.time=this.t),this.tauH=(this.maxRho-this.lastPub)/(this.t/3600),(this.maxTauH<this.tauH||this.maxRho>=this.cap[0]-this.cap[1]||this.pubRho<10||rt.forcedPubTime!==1/0)&&(this.maxTauH=this.tauH,this.pubT=this.t,this.pubRho=this.maxRho)}buyVariables(){for(let t=this.variables.length-1;t>=0;t--)for(;this.rho>this.variables[t].cost&&this.conditions[t]()&&this.milestoneConditions[t]();){if(this.maxRho+5>this.lastPub){let s=["a1","a2","b1","b2"];this.boughtVars.push({variable:s[t],level:this.variables[t].level+1,cost:this.variables[t].cost,timeStamp:this.t})}this.rho=(0,h.$X)(this.rho,this.variables[t].cost),this.variables[t].buy()}}}var q=function(t,s,i,e){return new(i||(i=Promise))((function(h,a){function o(t){try{l(e.next(t))}catch(t){a(t)}}function r(t){try{l(e.throw(t))}catch(t){a(t)}}function l(t){var s;t.done?h(t.value):(s=t.value,s instanceof i?s:new i((function(t){t(s)}))).then(o,r)}l((e=e.apply(t,s||[])).next())}))};function B(t){return q(this,void 0,void 0,(function*(){let s=new k(t);return yield s.simulate(t)}))}class k{constructor(t){var s,i;this.strat=t.strat,this.theory="EF",this.tauFactor=e.Jp.EF.tauFactor,this.cap="number"==typeof t.cap&&t.cap>0?[t.cap,1]:[1/0,0],this.recovery=null!==(s=t.recovery)&&void 0!==s?s:{value:0,time:0,recoveryTime:!1},this.lastPub=t.rho,this.sigma=t.sigma,this.totMult=this.getTotMult(t.rho),this.curMult=0,this.dt=rt.dt,this.ddt=rt.ddt,this.t=0,this.ticks=0,this.currencies=[0,0,0],this.maxRho=0,this.q=0,this.t_var=0,this.variables=[new l({cost:new c(1e6,1e6)}),new l({cost:new c(10,1.61328),stepwisePowerSum:{default:!0},firstFreeCost:!0}),new l({cost:new c(5,60),varBase:2}),new l({cost:new c(20,200),stepwisePowerSum:{default:!0},firstFreeCost:!0}),new l({cost:new c(100,2),varBase:1.1}),new l({cost:new c(20,200),stepwisePowerSum:{default:!0},firstFreeCost:!0}),new l({cost:new c(100,2),varBase:1.1}),new l({cost:new c(2e3,2.2,!0),stepwisePowerSum:{default:!0},firstFreeCost:!0}),new l({cost:new c(500,2.2,!0),value:1,stepwisePowerSum:{base:40,length:10}}),new l({cost:new c(500,2.2,!0),varBase:2})],this.recursionValue=null!==(i=t.recursionValue)&&void 0!==i?i:[1/0,0],this.lastA23=[0,0],this.isEFAI="EFAI"===this.strat,this.boughtVars=[],this.tauH=0,this.maxTauH=0,this.pubT=0,this.pubRho=0,this.milestones=[0,0,0,0,0],this.nextMilestoneCost=1/0,this.pubMulti=0,this.conditions=this.getBuyingConditions(),this.milestoneConditions=this.getMilestoneConditions(),this.milestoneTree=this.getMilestoneTree(),this.updateMilestones()}getBuyingConditions(){return{EF:new Array(10).fill(!0),EFSnax:[!0,()=>this.curMult<1,!0,()=>this.curMult<1,()=>this.curMult<1,()=>this.curMult<1,()=>this.curMult<1,()=>this.curMult<1||this.lastPub>150,!0,!0],EFd:[!0,()=>this.variables[1].cost+1<this.variables[2].cost,!0,!0,!0,!0,!0,()=>this.variables[6].cost+(0,h.wp)(2.5)<this.variables[2].cost,!0,!0],EFAI:[!0,()=>this.variables[1].cost+(0,h.wp)(10+this.variables[1].level%10)<this.variables[2].cost&&this.variables[1].cost+(0,h.wp)(this.variables[1].level%10+5)<this.recursionValue[0],()=>this.variables[2].cost+.2<this.recursionValue[0],()=>this.variables[3].cost+(0,h.wp)(5)<this.variables[8].cost||this.milestones[1]<2||this.curMult<1,()=>this.variables[4].cost+(0,h.wp)(5)<this.variables[8].cost||this.milestones[1]<2||this.curMult<1,()=>this.variables[5].cost+(0,h.wp)(5)<this.variables[9].cost||this.milestones[1]<2||this.curMult<1,()=>this.variables[6].cost+(0,h.wp)(5)<this.variables[9].cost||this.milestones[1]<2||this.curMult<1,()=>(this.variables[7].cost+(0,h.wp)(4+this.variables[7].level%10/2)<this.variables[2].cost||this.variables[2].cost>this.recursionValue[0])&&this.variables[7].cost+(0,h.wp)(this.variables[7].level%10/3)<this.recursionValue[0],!0,!0]}[this.strat].map((t=>"function"==typeof t?t:()=>t))}getMilestoneConditions(){return[()=>this.variables[0].level<4&&this.maxRho+(0,h.wp)(5)<this.nextMilestoneCost,()=>this.maxRho+(0,h.wp)(5)<this.nextMilestoneCost,()=>this.maxRho+(0,h.wp)(5)<this.nextMilestoneCost,()=>this.milestones[0]>0&&this.maxRho+(0,h.wp)(5)<this.nextMilestoneCost,()=>this.milestones[0]>0&&this.maxRho+(0,h.wp)(5)<this.nextMilestoneCost,()=>this.milestones[0]>1&&this.maxRho+(0,h.wp)(5)<this.nextMilestoneCost,()=>this.milestones[0]>1&&this.maxRho+(0,h.wp)(5)<this.nextMilestoneCost,()=>this.milestones[1]>0&&this.maxRho+(0,h.wp)(5)<this.nextMilestoneCost,()=>this.milestones[1]>1,()=>this.milestones[1]>2]}getMilestoneTree(){const t=[[0,0,0,0,0],[1,0,0,0,0],[2,0,0,0,0],[2,1,0,0,0],[2,2,0,0,0],[2,3,0,0,0],[2,3,1,0,0],[2,3,2,0,0],[2,3,3,0,0],[2,3,4,0,0],[2,3,5,0,0],[2,3,5,1,0],[2,3,5,2,0],[2,3,5,2,1],[2,3,5,2,2]];return{EF:t,EFd:t,EFSnax:t,EFAI:t}[this.strat]}getTotMult(t){return Math.max(0,t*this.tauFactor*.387)}updateMilestones(){let t=0,s=[10,20,30,40,50,70,90,110,130,150,250,275,300,325];for(let i=0;i<s.length;i++)if(Math.max(this.lastPub,this.maxRho)>=s[i]&&(t=i+1),s[i]>Math.max(this.lastPub,this.maxRho)){this.nextMilestoneCost=s[i];break}Math.max(this.lastPub,this.maxRho)>325&&(this.nextMilestoneCost=1/0),this.milestones=this.milestoneTree[Math.min(this.milestoneTree.length-1,t)],this.variables[4].varBase!==1.1+.01*this.milestones[3]&&(this.variables[4].varBase=1.1+.01*this.milestones[3],this.variables[4].reCalculate()),this.variables[6].varBase!==1.1+.0125*this.milestones[4]&&(this.variables[6].varBase=1.1+.0125*this.milestones[4],this.variables[6].reCalculate())}evaluatePubConditions(){if(!this.isEFAI)return!1;let t=0,s=0,i=[10,20,30,40,50,70,90,110,130,150,250,275,300,325];for(let e=0;e<i.length;e++)Math.max(this.lastPub,this.maxRho)>=i[e]&&(t=e+1),this.lastPub>=i[e]&&(s=e+1);return this.lastPub<30&&this.maxRho>32.4||this.lastPub<40&&this.maxRho>42||this.lastPub<50&&this.maxRho>55||this.lastPub<70&&this.maxRho>72||this.lastPub<90&&this.maxRho>92||this.lastPub<110&&this.maxRho>113||this.lastPub<150&&this.maxRho>153||this.lastPub<130&&this.maxRho>134||this.lastPub<146&&this.lastPub>145&&this.curMult>2||this.lastPub<126&&this.lastPub>125&&this.curMult>2||this.lastPub<106&&this.lastPub>105&&this.curMult>3||this.lastPub<87&&this.lastPub>85&&this.curMult>3||this.lastPub<67&&this.lastPub>65&&this.curMult>3||this.lastPub<46.4&&this.lastPub>44.7&&this.curMult>3||this.lastPub<37&&this.lastPub>36&&this.curMult>3||this.lastPub<27&&this.lastPub>26&&this.curMult>3||this.lastPub<298.2&&this.maxRho>300||this.lastPub<323.2&&this.maxRho>325||t-s<1&&this.curMult>t-s+2.6&&this.recursionValue[1]<2&&this.isEFAI||2===this.recursionValue[1]&&this.pubRho>this.variables[7].cost+(0,h.wp)(4)&&this.variables[7].cost+(0,h.wp)(this.variables[7].level%10/3)>this.recursionValue[0]}forcedPubConditions(){return!this.isEFAI||(this.lastPub<296||this.pubRho>300)&&(this.lastPub<321||this.pubRho>325)}evaluateTauHConditions(){return!!this.isEFAI&&(this.lastPub<298.2&&this.lastPub>=296||this.lastPub>=321&&this.lastPub<323.2)}simulate(t){return q(this,void 0,void 0,(function*(){if(this.lastPub>=10&&null==t.recursionValue&&this.isEFAI){t.recursionValue=[1/0,0];let s=yield B(t);t.recursionValue=[s[9][0],1];let i=yield B(t);this.recursionValue=[i[9][0],2],this.recursionValue[0]>300&&this.recursionValue[0]<301&&(this.recursionValue[0]=299.2),this.recursionValue[0]>325&&this.recursionValue[0]<326&&(this.recursionValue[0]=324.2)}let s=!1;for(;!s&&rt.simulating;)(this.ticks+1)%5e5==0&&(yield(0,h._v)()),this.tick(),this.currencies[0]>this.maxRho&&(this.maxRho=this.currencies[0]),this.lastPub<325&&this.updateMilestones(),this.curMult=Math.pow(10,this.getTotMult(this.maxRho)-this.totMult),this.buyVariables(),s=(rt.forcedPubTime!==1/0?this.t>rt.forcedPubTime:this.t>2*this.pubT||this.pubRho>this.cap[0]||this.evaluatePubConditions())&&this.pubRho>10&&this.forcedPubConditions(),this.ticks++;this.pubMulti=Math.pow(10,this.getTotMult(this.pubRho)-this.totMult);let i=(0,h.xo)(this,this.isEFAI?` q1: ${this.variables[1].level} q2: ${this.variables[2].level} a1: ${this.variables[7].level}`+(rt.showA23?` a2: ${this.lastA23[0]} a3: ${this.lastA23[1]}`:""):"");if(!this.isEFAI||2===this.recursionValue[1]){for(;this.boughtVars[this.boughtVars.length-1].timeStamp>this.pubT;)this.boughtVars.pop();rt.varBuy.push([i[7],this.boughtVars])}return i}))}tick(){let t=(0,h.wp)(this.dt)+this.totMult;this.q=(0,h.IH)(this.q,this.variables[1].value+this.variables[2].value+t),this.t_var+=this.dt*(this.variables[0].level/5+.2);let s=(this.variables[7].value+this.variables[8].value+this.variables[9].value)*(.1*this.milestones[2]+1),i=this.variables[3].value+this.variables[4].value,e=this.variables[5].value+this.variables[6].value,a=i+(0,h.wp)(Math.abs(Math.cos(this.t_var))),o=e+(0,h.wp)(Math.abs(Math.sin(this.t_var)));switch(this.currencies[1]=this.milestones[0]>0?(0,h.IH)(this.currencies[1],t+2*a):0,this.currencies[2]=this.milestones[0]>1?(0,h.IH)(this.currencies[2],t+2*o):0,this.milestones[0]){case 0:this.currencies[0]=(0,h.IH)(this.currencies[0],t+((0,h.wp)(this.t_var)+2*this.q)/2);break;case 1:this.currencies[0]=(0,h.IH)(this.currencies[0],t+(0,h.IH)((0,h.wp)(this.t_var)+2*this.q,2*this.currencies[1])/2);break;case 2:this.currencies[0]=(0,h.IH)(this.currencies[0],t+s+(0,h.IH)((0,h.IH)((0,h.wp)(this.t_var)+2*this.q,2*this.currencies[1]),2*this.currencies[2])/2)}this.t+=this.dt/1.5,this.dt*=this.isEFAI&&this.recursionValue[1]<2?Math.min(1.3,50*this.ddt):this.ddt,this.maxRho<this.recovery.value&&(this.recovery.time=this.t),this.tauH=(this.maxRho-this.lastPub)/(this.t/3600),(this.maxTauH<this.tauH||this.maxRho>=this.cap[0]-this.cap[1]||this.pubRho<10||rt.forcedPubTime!==1/0||this.evaluateTauHConditions())&&(this.maxTauH=this.tauH,this.pubT=this.t,this.pubRho=this.maxRho,this.lastA23=[this.variables[8].level,this.variables[9].level])}buyVariables(){let t=[0,0,0,1,1,2,2,0,1,2];for(let s=this.variables.length-1;s>=0;s--)for(;this.currencies[t[s]]>this.variables[s].cost&&this.conditions[s]()&&this.milestoneConditions[s]();){if(this.maxRho+5>this.lastPub&&(!this.isEFAI||2===this.recursionValue[1])){let t=["t","q1","q2","b1","b2","c1","c2","a1","a2","a3"];this.boughtVars.push({variable:t[s],level:this.variables[s].level+1,cost:this.variables[s].cost,timeStamp:this.t})}this.currencies[t[s]]=(0,h.$X)(this.currencies[t[s]],this.variables[s].cost),this.variables[s].buy()}}}var _=function(t,s,i,e){return new(i||(i=Promise))((function(h,a){function o(t){try{l(e.next(t))}catch(t){a(t)}}function r(t){try{l(e.throw(t))}catch(t){a(t)}}function l(t){var s;t.done?h(t.value):(s=t.value,s instanceof i?s:new i((function(t){t(s)}))).then(o,r)}l((e=e.apply(t,s||[])).next())}))};class L{constructor(t){var s,i;this.strat=t.strat,this.theory="CSR2",this.tauFactor=e.Jp.CSR2.tauFactor,this.cap="number"==typeof t.cap&&t.cap>0?[t.cap,1]:[1/0,0],this.recovery=null!==(s=t.recovery)&&void 0!==s?s:{value:0,time:0,recoveryTime:!1},this.lastPub=t.rho,this.sigma=t.sigma,this.totMult=this.getTotMult(t.rho),this.curMult=0,this.dt=rt.dt,this.ddt=rt.ddt,this.t=0,this.ticks=0,this.rho=0,this.maxRho=0,this.q=0,this.t_var=0,this.variables=[new l({cost:new c(10,5),stepwisePowerSum:{default:!0},firstFreeCost:!0}),new l({cost:new c(15,128),varBase:2}),new l({cost:new c(1e6,16),value:1,stepwisePowerSum:{default:!0}}),new l({cost:new c(50,Math.pow(2,3.346*Math.log2(256)))}),new l({cost:new c(1e3,Math.pow(10,5.65)),varBase:2})],this.recursionValue=null!==(i=t.recursionValue)&&void 0!==i?i:[1/0,0],this.bestCoast=[0,0],this.updateError_flag=!0,this.error=0,this.boughtVars=[],this.tauH=0,this.maxTauH=0,this.pubT=0,this.pubRho=0,this.milestones=[0,0,0],this.pubMulti=0,this.conditions=this.getBuyingConditions(),this.milestoneConditions=this.getMilestoneConditions(),this.updateMilestones()}getBuyingConditions(){return{CSR2:[!0,!0,!0,!0,!0],CSR2d:[()=>this.variables[0].cost+(0,h.wp)(7+this.variables[0].level%10)<Math.min(this.variables[1].cost,this.variables[3].cost,this.variables[4].cost),!0,()=>this.variables[2].cost+(0,h.wp)(15+this.variables[2].level%10)<Math.min(this.variables[1].cost,this.variables[3].cost,this.variables[4].cost),!0,!0],CSR2XL:[()=>this.variables[0].cost+(0,h.wp)(7+this.variables[0].level%10)<Math.min(this.variables[1].cost,this.variables[3].cost,this.variables[4].cost),()=>this.variables[1].cost+(0,h.wp)(1.8)<this.variables[4].cost,()=>this.variables[2].cost+(0,h.wp)(15+this.variables[2].level%10)<Math.min(this.variables[1].cost,this.variables[3].cost,this.variables[4].cost),()=>this.variables[3].cost+(0,h.wp)(1.3)<this.variables[4].cost,!0]}[this.strat].map((t=>"function"==typeof t?t:()=>t))}getMilestoneConditions(){return[()=>!0,()=>!0,()=>!0,()=>!0,()=>this.milestones[1]>0]}getTotMult(t){return Math.max(0,t*this.tauFactor*2.203-(0,h.wp)(200))}updateMilestones(){let t=0,s=[10,45,80,115,220,500];for(let i=0;i<s.length;i++)Math.max(this.lastPub,this.maxRho)>=s[i]&&(t=i+1);let i=[2,3,1];if(this.lastPub<500&&"CSR2XL"===this.strat){let t=0;this.lastPub>45&&(t=4),this.lastPub>80&&(t=8),this.lastPub>115&&(t=20),this.lastPub>220&&(t=40),i=(this.rho+(0,h.wp)(.5*t)>this.variables[3].cost||this.rho+(0,h.wp)(t)>this.variables[4].cost&&this.milestones[1]>0||this.curMult>1&&this.rho+(0,h.wp)(2)>this.variables[1].cost)&&this.rho<Math.min(this.variables[3].cost,this.variables[4].cost)||this.t>this.recursionValue[0]?[1,2,3]:[2,3,1]}this.milestones=[0,0,0];const e=[3,1,2];for(let s=0;s<i.length;s++)for(;this.milestones[i[s]-1]<e[i[s]-1]&&t>0;)this.milestones[i[s]-1]++,t--}updateError(t){if(t<6){let s=[0,(0,h.wp)(2.060660172040101),(0,h.wp)(12.010407635829813),(0,h.wp)(70.00178562229294),(0,h.wp)(408.0003059755347),(0,h.wp)(2378.000049517553)];return void(this.error=s[t])}let s=Math.SQRT2,i=(Math.pow(-(s-1),t)*(t%2?-1:1)+Math.pow(1+s,t))/2/s,e=Math.pow(s+1,t)*(t%2?-1:1);this.error=(0,h.wp)(Math.abs(i))+(0,h.wp)(Math.abs(e))}searchCoast(t){if(this.curMult>.7){let i=(s=this.lastPub)<45?Math.pow(s,2.1)/10:s<80?Math.pow(s,2.22)/40:s<220?Math.pow(s,2.7)/33e3+40:s<500?Math.pow(s,2.8)/92e3+40:5*Math.pow(1.5,Math.pow(s,.8475)/20);const e=(this.totMult+Math.log10(4)+Math.log10(200))/2.203*10;if(this.lastPub<500){{let s=(0,h.IH)(this.rho,t+this.variables[0].value*(this.maxRho>=10?this.maxRho>=45?this.maxRho>=80?1.15:1.1:1.05:1)+Math.log10(1.5*i)),a=(Math.min(e,s)-this.lastPub)/((this.t+i)/3600);this.bestCoast[0]<a&&(this.bestCoast[0]=a,this.bestCoast[1]=this.t)}i*=.8;{let s=(0,h.IH)(this.rho,t+this.variables[0].value*(this.maxRho>=10?this.maxRho>=45?this.maxRho>=80?1.15:1.1:1.05:1)+Math.log10(1.5*i)),a=(Math.min(e,s)-this.lastPub)/((this.t+i)/3600);this.bestCoast[0]<a&&(this.bestCoast[0]=a,this.bestCoast[1]=this.t)}i/=Math.pow(.8,2);{let s=(0,h.IH)(this.rho,t+this.variables[0].value*(this.maxRho>=10?this.maxRho>=45?this.maxRho>=80?1.15:1.1:1.05:1)+Math.log10(1.5*i)),a=(Math.min(e,s)-this.lastPub)/((this.t+i)/3600);this.bestCoast[0]<a&&(this.bestCoast[0]=a,this.bestCoast[1]=this.t)}}else{t=this.totMult+this.variables[0].value*(1+.05*this.milestones[0])+this.variables[1].value+this.q;let s=this.totMult+this.variables[2].value+1.15*this.variables[4].value+this.error,a=(0,h.IH)(this.q+(0,h.wp)(2),s+Math.log10(1.5*i))-(0,h.wp)(2),o=(0,h.IH)(this.rho,t-this.q+a+Math.log10(1.5*i)),r=(o-this.lastPub)/((this.t+i)/3600);this.bestCoast[0]<r&&o<e&&(this.bestCoast[0]=r,this.bestCoast[1]=this.t)}}var s}simulate(t){return _(this,void 0,void 0,(function*(){if(this.lastPub>=10&&null==t.recursionValue&&"CSR2XL"===this.strat){t.recursionValue=[1/0,0];let s=new L(t);yield s.simulate(t),this.recursionValue=[s.bestCoast[1],1]}let s=!1;for(;!s&&rt.simulating;)(this.ticks+1)%5e5==0&&(yield(0,h._v)()),this.tick(),this.rho>this.maxRho&&(this.maxRho=this.rho),this.curMult=Math.pow(10,this.getTotMult(this.maxRho)-this.totMult),(null!=this.recursionValue&&this.t<this.recursionValue[0]||this.curMult<.7||0===this.recursionValue[1])&&this.buyVariables(),this.lastPub<500&&this.updateMilestones(),s=(rt.forcedPubTime!==1/0?this.t>rt.forcedPubTime:this.t>2*this.pubT||this.pubRho>this.cap[0])&&this.pubRho>10,this.ticks++;this.pubMulti=Math.pow(10,this.getTotMult(this.pubRho)-this.totMult);let i=0;for(let t=0;t<this.variables.length;t++){const s=[5,128,16,Math.pow(2,3.346*Math.log2(256)),Math.pow(10,5.65)];i=Math.max(i,this.variables[t].cost-(0,h.wp)(s[t]))}let e=(0,h.xo)(this,"CSR2XL"===this.strat?" "+Math.min(this.pubMulti,Math.pow(10,this.getTotMult(i)-this.totMult)).toFixed(2):"");if(1===this.recursionValue[1]||"CSR2XL"!==this.strat){for(;this.boughtVars[this.boughtVars.length-1].timeStamp>this.pubT;)this.boughtVars.pop();rt.varBuy.push([e[7],this.boughtVars])}return e}))}tick(){let t=this.variables[0].value*(1+.05*this.milestones[0]),s=this.milestones[1]>0?this.variables[4].value*(1+.5*this.milestones[2]):0;if(this.updateError_flag){let t=this.milestones[1]>0?this.variables[4].level:0,s=this.variables[3].level+1+t;this.updateError(s),this.updateError_flag=!1}this.lastPub<500&&this.searchCoast(this.totMult+this.variables[1].value+this.q);let i=this.variables[2].value+s+this.error;this.q=(0,h.IH)(this.q,this.totMult+(0,h.wp)(this.dt)+i);let e=this.totMult+t+this.variables[1].value+this.q;this.rho=(0,h.IH)(this.rho,e+(0,h.wp)(this.dt)),this.t+=this.dt/1.5,this.dt*=this.ddt,this.maxRho<this.recovery.value&&(this.recovery.time=this.t),this.tauH=(this.maxRho-this.lastPub)/(this.t/3600),(this.maxTauH<this.tauH||this.maxRho>=this.cap[0]-this.cap[1]||this.pubRho<10||rt.forcedPubTime!==1/0)&&(this.maxTauH=this.tauH,this.pubT=this.t,this.pubRho=this.maxRho)}buyVariables(){let t=!1;for(let s=this.variables.length-1;s>=0;s--)for(;this.rho>this.variables[s].cost&&this.conditions[s]()&&this.milestoneConditions[s]();){if(this.maxRho+5>this.lastPub&&(1===this.recursionValue[1]||"CSR2XL"!==this.strat)){let t=["q1","q2","c1","n","c2"];this.boughtVars.push({variable:t[s],level:this.variables[s].level+1,cost:this.variables[s].cost,timeStamp:this.t})}this.rho=(0,h.$X)(this.rho,this.variables[s].cost),this.variables[s].buy(),s>2&&(this.updateError_flag=!0),t=!0}t&&this.searchCoast(this.totMult+this.variables[1].value+this.q)}}var $=function(t,s,i,e){return new(i||(i=Promise))((function(h,a){function o(t){try{l(e.next(t))}catch(t){a(t)}}function r(t){try{l(e.throw(t))}catch(t){a(t)}}function l(t){var s;t.done?h(t.value):(s=t.value,s instanceof i?s:new i((function(t){t(s)}))).then(o,r)}l((e=e.apply(t,s||[])).next())}))};let E=[0,9749,38997,92821,155989,271765,371285,448661,623957,808853,1087061,1415829,1485141,1663893,1794645,2068245,2495829,2681877,3235413,3527445,4348245,5600149,5663317,5807893,5940565,6200341,6655573,6841621,7178581,7607701,8272981,9793813,9983317,10246549,10727509,11309845,12941653,13288981,14109781,15594133,17392981,22369685,22400597,22488341,22653269,22839317,23231573,23488661,23762261,24243221,24801365,25677461,26622293,26830229,27366485,27800213,28714325,29858837,30430805,32081045,33091925,35461013,39175253,39364757,39933269,40196501,40986197,42341525,42910037,43952021,45239381,47328533,51766613,52321301,53155925,54567701,56439125,61199765,62376533,64838933,69571925,74595221,89478741,89511189,89602389,89763861,89953365,90387093,90613077,90872853,91357269,91915413,92926293,93732885,93954645,94480533,95049045,95838741,96972885,97555221,99205461,100247445,102709845,106289301,106489173,107042709,107320917,108110613,109465941,110024085,111200853,112394901,114857301,118877205,119435349,120311445,121723221,123594645,128324181,129625365,132367701,136696341,141844053,156588693,156701013,156964245,157459029,158027541,159733077,159996309,160786005,162239253,163944789,167070741,169366101,170062485,171640149,173304213,175808085,179086101,180957525,185783829,189314133,196701333,207066453,207624597,209285205,210161301,212623701,216565269,218270805,222174357,225756501,232770453,244799061,246473493,249506133,253368213,259355733,273171093,278287701,285394965,298380885,314103957,357914965,357953557,358044757,358209685,358409557,358962709,359055445,359318677,359813461,360371605,361548373,362178709,362452309,362933269,363491413,364367509,365429077,366052885,367661653,368962837,371705173,374740885,374931541,375481621,375818581,376608277,377922133,378490645,380196181,380985877,383354965,387323029,387891541,388933525,390220885,392310037,396821845],O=(t,s,i)=>{if(t<=i)return t;t-=i;let e=Math.floor(t/i);return s*(e+1)*(i*e/2+(t-e*i))+i+t};class N{constructor(t){var s;this.strat=t.strat,this.theory="FP",this.tauFactor=e.Jp.FP.tauFactor,this.cap="number"==typeof t.cap&&t.cap>0?[t.cap,1]:[1/0,0],this.recovery=null!==(s=t.recovery)&&void 0!==s?s:{value:0,time:0,recoveryTime:!1},this.lastPub=t.rho,this.sigma=t.sigma,this.totMult=t.rho<9?0:this.getTotMult(t.rho),this.curMult=0,this.pubUnlock=12,this.dt=rt.dt,this.ddt=rt.ddt,this.t=0,this.ticks=0,this.rho=0,this.maxRho=0,this.q=0,this.r=0,this.t_var=0,this.variables=[new l({cost:new c(1e4,1e4)}),new l({cost:new c(10,1.4),stepwisePowerSum:{base:150,length:100},firstFreeCost:!0}),new l({cost:new u(15,new c(1e15,40),new c(1e41,16.42)),varBase:2}),new l({cost:new c(1e35,12),stepwisePowerSum:{base:10,length:10},firstFreeCost:!0}),new l({cost:new c(1e73,1e3)}),new l({cost:new u(285,new c(1e75,20),new c("1e440",150)),stepwisePowerSum:{base:2,length:5},firstFreeCost:!0}),new l({cost:new c(1e4,3e6)}),new l({cost:new c("1e730",1e30)})],this.boughtVars=[],this.T_n=1,this.U_n=1,this.S_n=0,this.n=1,this.prevN=1,this.updateN_flag=!0,this.tauH=0,this.maxTauH=0,this.pubT=0,this.pubRho=0,this.milestones={snexp:0,fractals:0,nboost:0,snboost:0,sterm:0,expterm:0},this.pubMulti=0,this.conditions=this.getBuyingConditions(),this.milestoneConditions=this.getMilestoneConditions(),this.milestoneTree=this.getMilestoneTree(),this.updateMilestones()}getBuyingConditions(){return{FP:new Array(10).fill(!0)}[this.strat].map((t=>"function"==typeof t?t:()=>t))}getMilestoneConditions(){return[()=>this.variables[0].level<4,()=>!0,()=>!0,()=>this.milestones.fractals>0,()=>this.milestones.fractals>0,()=>this.milestones.fractals>1,()=>!0,()=>this.milestones.sterm>0]}getMilestoneTree(){return{FP:[{snexp:0,fractals:0,nboost:0,snboost:0,sterm:0,expterm:0},{snexp:0,fractals:1,nboost:0,snboost:0,sterm:0,expterm:0},{snexp:0,fractals:2,nboost:0,snboost:0,sterm:0,expterm:0},{snexp:0,fractals:2,nboost:1,snboost:0,sterm:0,expterm:0},{snexp:0,fractals:2,nboost:2,snboost:0,sterm:0,expterm:0},{snexp:1,fractals:2,nboost:2,snboost:0,sterm:0,expterm:0},{snexp:2,fractals:2,nboost:2,snboost:0,sterm:0,expterm:0},{snexp:3,fractals:2,nboost:2,snboost:0,sterm:0,expterm:0},{snexp:3,fractals:2,nboost:2,snboost:1,sterm:0,expterm:0},{snexp:3,fractals:2,nboost:2,snboost:1,sterm:1,expterm:0},{snexp:3,fractals:2,nboost:2,snboost:1,sterm:1,expterm:1}]}[this.strat]}getTotMult(t){return Math.max(0,t*this.tauFactor*1.324+(0,h.wp)(5))}updateMilestones(){let t=0,s=[23,90,175,300,385,420,550,600,700,1500];for(let i=0;i<s.length;i++)Math.max(this.lastPub,this.maxRho)>=s[i]&&(t=i+1);this.milestones=this.milestoneTree[Math.min(this.milestoneTree.length-1,t)]}approx(t){return t++,(0,h.wp)(1/6)+(0,h.IH)((0,h.wp)(2)*(2*t),(0,h.wp)(2))}T(t){if(0===t)return 0;let s=Math.log2(t);if(s%1==0)return(Math.pow(2,2*s+1)+1)/3;let i=t-Math.pow(2,Math.floor(s));return this.T(Math.pow(2,Math.floor(s)))+2*this.T(i)+this.T(i+1)-1}u(t){return t<2?t:4*Math.pow(3,this.wt(t-1)-1)}wt(t){let s=0;for(let i=1;!(Math.pow(2,i)>t);i++)s+=Math.floor(t/Math.pow(2,i));return t-s}U(t){let s=t-t%100,i=this.prevN>s?this.U_n:E[Math.floor(t/100)];for(let e=this.prevN>s?this.prevN+1:s+1;e<=t;e++)i+=this.u(e);return i}S(t){return 0===t?0:0===this.milestones.snboost?(0,h.wp)(3)*(t-1):(0,h.wp)(1/3)+(0,h.$X)((0,h.wp)(2)+(0,h.wp)(3)*t,(0,h.wp)(3))}getS(t){let s=[32,38];return t<s[0]?1+.15*t:t<s[1]?this.getS(s[0]-1)+.15+.2*(t-s[0]):this.getS(s[1]-1)+.2+.15*(t-s[1])}updateN(){this.T_n=this.T(this.n),this.U_n=this.U(this.n),this.S_n=this.S(Math.floor(Math.sqrt(this.n)))}simulate(){return $(this,void 0,void 0,(function*(){let t=!1;for(;!t&&rt.simulating;)(this.ticks+1)%5e5==0&&(yield(0,h._v)()),this.tick(),this.rho>this.maxRho&&(this.maxRho=this.rho),this.updateMilestones(),this.curMult=Math.pow(10,this.getTotMult(this.maxRho)-this.totMult),this.buyVariables(),t=(rt.forcedPubTime!==1/0?this.t>rt.forcedPubTime:this.t>2*this.pubT||this.pubRho>this.cap[0]||this.curMult>1e3)&&this.pubRho>this.pubUnlock,this.ticks++;this.pubMulti=Math.pow(10,this.getTotMult(this.pubRho)-this.totMult);let s=(0,h.xo)(this,"");for(;this.boughtVars[this.boughtVars.length-1].timeStamp>this.pubT;)this.boughtVars.pop();return rt.varBuy.push([s[7],this.boughtVars]),s}))}tick(){if(this.updateN_flag){this.prevN=this.n;const t=this.milestones.nboost>0?Math.floor(2*O(Math.max(0,this.variables[6].level-30),1,35)):0,s=this.milestones.nboost>1?Math.floor(2.4*O(Math.max(0,this.variables[6].level-69),1,30)):0;this.n=Math.min(2e4,1+O(this.variables[6].level,1,40)+t+s),this.updateN(),this.updateN_flag=!1}let t=this.variables[3].value-(0,h.wp)(1+1e3/Math.pow(this.variables[3].level,1.5)),s=this.variables[5].value-(0,h.wp)(1+1e9/Math.pow(this.variables[5].level,4)),i=this.approx(this.variables[4].level);this.t_var+=(this.variables[0].level/5+.2)*this.dt;let e,a=t+i+(0,h.wp)(this.U_n)*(7+(this.milestones.sterm>0?this.getS(this.variables[7].level):0))-3;this.q=this.milestones.fractals>0?(0,h.IH)(this.q,a+(0,h.wp)(this.dt)):this.q,e=this.milestones.expterm<1?s+((0,h.wp)(this.T_n)+(0,h.wp)(this.U_n))*(0,h.wp)(this.n)+this.S_n*(1+.6*this.milestones.snexp):s+((0,h.wp)(this.T_n)+(0,h.wp)(this.U_n))*((0,h.wp)(2*this.U_n)/2)+this.S_n*(1+.6*this.milestones.snexp),this.r=this.milestones.fractals>1?(0,h.IH)(this.r,e+(0,h.wp)(this.dt)):this.r;let o=this.totMult+this.variables[1].value+this.variables[2].value+(0,h.wp)(this.T_n)*(7+(this.milestones.sterm>0?this.getS(this.variables[7].level)-2:0))+(0,h.wp)(this.t_var);o+=this.milestones.fractals>0?this.q:0,o+=this.milestones.fractals>1?this.r:0,this.rho=(0,h.IH)(this.rho,o+(0,h.wp)(this.dt)),this.t+=this.dt/1.5,this.dt*=this.ddt,this.maxRho<this.recovery.value&&(this.recovery.time=this.t),this.tauH=(this.maxRho-this.lastPub)/(this.t/3600),(this.maxTauH<this.tauH||this.maxRho>=this.cap[0]-this.cap[1]||this.pubRho<this.pubUnlock||rt.forcedPubTime!==1/0)&&(this.maxTauH=this.tauH,this.pubT=this.t,this.pubRho=this.maxRho)}buyVariables(){for(let t=this.variables.length-1;t>=0;t--)for(;this.rho>this.variables[t].cost&&this.conditions[t]()&&this.milestoneConditions[t]();){if(this.maxRho+5>this.lastPub){let s=["tdot","c1","c2","q1","q2","r1","n1","s"];this.boughtVars.push({variable:s[t],level:this.variables[t].level+1,cost:this.variables[t].cost,timeStamp:this.t})}this.rho=(0,h.$X)(this.rho,this.variables[t].cost),this.variables[t].buy(),6!==t&&7!==t&&8!==t||(this.updateN_flag=!0)}}}const J=[1,1.14,1.21,1.25],D=[[-1.4603545088095868,0],[-1.4553643660270397,-.09781676830384783],[-1.440542081646155,-.19415203999960912],[-1.4163212212231056,-.28759676077859003],[-1.3833896356482762,-.3768794470454824],[-1.342642133546631,-.4609179256197904],[-1.2951228211781993,-.5388537754075557],[-1.241963631033884,-.6100681370867955],[-1.1843251208316332,-.6741799895320815],[-1.1233443487784422,-.7310298502579008],[-1.060092915695705,-.7806529218726466],[-.9955465074244718,-.8232459763245688],[-.9305657733297464,-.8591319035291818],[-.8658873025937653,-.8887250871113064],[-.8021228436348753,-.9124998432235688],[-.7397646956777745,-.9309632543046918],[-.679195280748696,-.9446329646494664],[-.6206991658717179,-.954019930248939],[-.5644761510419182,-.9596157344894038],[-.5106543967354793,-.9618838678042443],[-.4593028903460182,-.9612542845058791],[-.41044282155026063,-.9581205539253138],[-.36405764581325084,-.9528389811158258],[-.32010176657189976,-.9457291580892904],[-.27850786866599236,-.9370755012055574],[-.23919299859739693,-.9271294221274624],[-.20206352115099815,-.9161118621249669],[-.167019095423191,-.9042159895669558],[-.13395581328989362,-.8916099176381238],[-.10276863503870383,-.8784393444855285],[-.07335324405394422,-.8648300526354262],[-.04560742765796049,-.850890230359152],[-.019432076150895955,-.836712596410336],[.0052681222316752355,-.8223763227399408],[.028584225755178324,-.8079487587301435],[.050602769823360656,-.7934869662472297],[.07140564053351184,-.7790390782526131],[.09107005626117316,-.7646454954943122],[.10966862939766708,-.750339936434268],[.1272694861536691,-.7361503554272701],[.14393642707718907,-.722099743531673]];let X=t=>{let s=t*(D.length-1),i=Math.floor(s),e=s-i,h=D[i][0]*(1-e)+D[i+1][0]*e,a=D[i][1]*(1-e)+D[i+1][1]*e;return[h,a,Math.sqrt(h*h+a*a)]},z=(t,s)=>0==t?.3826834323650898*Math.pow(s,0)+.43724046807752043*Math.pow(s,2)+.1323765754803435*Math.pow(s,4)-.013605026047674188*Math.pow(s,6)-.013567621970103581*Math.pow(s,8)-.0016237253231444653*Math.pow(s,10)+.0002970535373337969*Math.pow(s,12)+794330087952147e-19*Math.pow(s,14)+4.6556124614505e-7*Math.pow(s,16)-143272516309551e-20*Math.pow(s,18)-1.0354847112313e-7*Math.pow(s,20)+1.235792708386e-8*Math.pow(s,22)+1.7881083858e-9*Math.pow(s,24)-339141439e-19*Math.pow(s,26)-163266339e-19*Math.pow(s,28)-37851093e-20*Math.pow(s,30)+9327423e-20*Math.pow(s,32)+522184e-20*Math.pow(s,34)-33507e-20*Math.pow(s,36)-3412e-20*Math.pow(s,38)+58e-20*Math.pow(s,40)+15e-20*Math.pow(s,42):1==t?-.026825102628375348*Math.pow(s,1)+.013784773426351853*Math.pow(s,3)+.03849125048223508*Math.pow(s,5)+.009871066299062077*Math.pow(s,7)-.0033107597608584044*Math.pow(s,9)-.0014647808577954152*Math.pow(s,11)-1320794062487696e-20*Math.pow(s,13)+5922748701847141e-20*Math.pow(s,15)+598024258537345e-20*Math.pow(s,17)-9.6413224561698e-7*Math.pow(s,19)-1.8334733722714e-7*Math.pow(s,21)+4.46708756272e-9*Math.pow(s,23)+2.70963508218e-9*Math.pow(s,25)+7785288654e-20*Math.pow(s,27)-2343762601e-20*Math.pow(s,29)-158301728e-20*Math.pow(s,31)+12119942e-20*Math.pow(s,33)+1458378e-20*Math.pow(s,35)-28786e-20*Math.pow(s,37)-8663e-20*Math.pow(s,39)-84e-20*Math.pow(s,41)+36e-20*Math.pow(s,43)+1e-20*Math.pow(s,45):2==t?.005188542830293168*Math.pow(s,0)+.00030946583880634744*Math.pow(s,2)-.011335941078229373*Math.pow(s,4)+.0022330457419581446*Math.pow(s,6)+.00519663740886233*Math.pow(s,8)+.0003439914407620834*Math.pow(s,10)-.0005910648427470583*Math.pow(s,12)-.00010229972547935857*Math.pow(s,14)+2088839221699276e-20*Math.pow(s,16)+592766549309654e-20*Math.pow(s,18)-1.6423838362436e-7*Math.pow(s,20)-1.5161199700941e-7*Math.pow(s,22)-5.90780369821e-9*Math.pow(s,24)+2.09115148595e-9*Math.pow(s,26)+1.7815649583e-10*Math.pow(s,28)-1616407246e-20*Math.pow(s,30)-238069625e-20*Math.pow(s,32)+5398265e-20*Math.pow(s,34)+1975014e-20*Math.pow(s,36)+23333e-20*Math.pow(s,38)-11188e-20*Math.pow(s,40)-416e-20*Math.pow(s,42)+44e-20*Math.pow(s,44)+3e-20*Math.pow(s,46):3==t?-.0013397160907194568*Math.pow(s,1)+.003744215136379394*Math.pow(s,3)-.0013303178919321468*Math.pow(s,5)-.0022654660765471786*Math.pow(s,7)+.0009548499998506731*Math.pow(s,9)+.0006010038458963604*Math.pow(s,11)-.00010128858286776622*Math.pow(s,13)-6865733449299826e-20*Math.pow(s,15)+5.9853667915386e-7*Math.pow(s,17)+333165985123995e-20*Math.pow(s,19)+2.1919289102435e-7*Math.pow(s,21)-7.890884245681e-8*Math.pow(s,23)-9.4146850813e-9*Math.pow(s,25)+9.5701162109e-10*Math.pow(s,27)+1.8763137453e-10*Math.pow(s,29)-443783768e-20*Math.pow(s,31)-224267385e-20*Math.pow(s,33)-3627687e-20*Math.pow(s,35)+1763981e-20*Math.pow(s,37)+79608e-20*Math.pow(s,39)-942e-19*Math.pow(s,41)-713e-20*Math.pow(s,43)+33e-20*Math.pow(s,45)+4e-20*Math.pow(s,47):.00046483389361763383*Math.pow(s,0)-.001005660736534047*Math.pow(s,2)+.00024044856573725794*Math.pow(s,4)+.0010283086149702322*Math.pow(s,6)-.0007657861071755644*Math.pow(s,8)-.00020365286803084818*Math.pow(s,10)+.0002321229049106873*Math.pow(s,12)+326021442438652e-19*Math.pow(s,14)-2557906251794953e-20*Math.pow(s,16)-410746443891574e-20*Math.pow(s,18)+117811136403713e-20*Math.pow(s,20)+2.4456561422485e-7*Math.pow(s,22)-2.391582476734e-8*Math.pow(s,24)-7.50521420704e-9*Math.pow(s,26)+1.3312279416e-10*Math.pow(s,28)+1.3440626754e-10*Math.pow(s,30)+351377004e-20*Math.pow(s,32)-151915445e-20*Math.pow(s,34)-8915418e-20*Math.pow(s,36)+1119589e-20*Math.pow(s,38)+10516e-19*Math.pow(s,40)-5179e-20*Math.pow(s,42)-807e-20*Math.pow(s,44)+11e-20*Math.pow(s,46)+4e-20*Math.pow(s,48),U=[],Z=[],W=(t,s)=>{let i=0,e=0,h=Math.sqrt(t/(2*Math.PI)),a=Math.floor(h),o=h-a,r=(t=>t/2*Math.log(t/2/Math.PI)-t/2-Math.PI/8+1/48/t+7/5760/t/t/t)(t);for(let s=1;s<=a;++s)void 0===U[s]&&(U[s]=Math.log(s),Z[s]=Math.sqrt(s)),i+=Math.cos(r-t*U[s])/Z[s];i*=2;for(let i=0;i<=s;++i)e+=z(i,2*o-1)*Math.pow(2*Math.PI/t,.5*i);return e*=(t=>t%2==0?1:-1)(a-1)*Math.pow(2*Math.PI/t,.25),i+=e,[i*Math.cos(r),-i*Math.sin(r),i]};const G={zetaLookup:[],zetaDerivLookup:[],prevDt:1.5,prevDdt:1.0001},j=(t,s,i,e)=>{if(!i&&e[s])return e[s];let h,a=Math.abs(t);if(a>=1)h=W(a,1);else if(a<.1)h=X(a);else{let t=(t=>t*t*(1-t)+(1-(1-t)*(1-t))*t)(10*(a-.1)/9),s=X(a),i=W(a,1);h=[s[0]*(1-t)+i[0]*t,s[1]*(1-t)+i[1]*t,s[2]*(1-t)+Math.abs(i[2])*t]}return t<0&&(h[1]=-h[1]),i||(e[s]=h),h};var Q=function(t,s,i,e){return new(i||(i=Promise))((function(h,a){function o(t){try{l(e.next(t))}catch(t){a(t)}}function r(t){try{l(e.throw(t))}catch(t){a(t)}}function l(t){var s;t.done?h(t.value):(s=t.value,s instanceof i?s:new i((function(t){t(s)}))).then(o,r)}l((e=e.apply(t,s||[])).next())}))};class K{constructor(t){var s;this.strat=t.strat,this.theory="RZ",this.tauFactor=e.Jp.RZ.tauFactor,this.cap="number"==typeof t.cap&&t.cap>0?[t.cap,1]:[1/0,0],this.recovery=null!==(s=t.recovery)&&void 0!==s?s:{value:0,time:0,recoveryTime:!1},this.lastPub=t.rho,this.sigma=t.sigma,this.totMult=this.getTotMult(t.rho),this.curMult=0,this.dt=rt.dt,this.ddt=rt.ddt,this.t=0,this.ticks=0,this.currencies=[0,0],this.maxRho=0,this.t_var=0,this.zTerm=0,this.rCoord=-1.4603545088095868,this.iCoord=0,this.offGrid=!1,this.variables=[new l({firstFreeCost:!0,cost:new c(225,Math.pow(2,.699)),stepwisePowerSum:{base:2,length:8}}),new l({cost:new c(1500,Math.pow(2,2.796)),varBase:2}),new l({cost:new c(1e21,1e79)}),new l({cost:new v(6,new c(12e4,Math.pow(100,1/3))),value:1,stepwisePowerSum:{base:2,length:8}}),new l({cost:new c(1e5,10),varBase:2}),new l({cost:new c("3.16227766017e599",1e30),varBase:2}),new l({cost:new c("1e600","1e300")})],this.varNames=["c1","c2","b","w1","w2","w3","b+"],this.boughtVars=[],this.tauH=0,this.maxTauH=0,this.pubT=0,this.pubRho=0,this.milestones=[0,0,0,0],this.pubMulti=0,this.conditions=this.getBuyingConditions(),this.milestoneConditions=this.getMilestoneConditions(),this.milestoneTree=this.getMilestoneTree(),this.updateMilestones()}getBuyingConditions(){const t=[()=>this.variables[0].level<4*this.variables[1].level+(this.milestones[0]?2:1),!0,!0,()=>!this.milestones[2]||this.variables[3].cost+(0,h.wp)(4+this.variables[3].level%8*.5+1e-4)<this.variables[4].cost,!0,!0,!0];return{RZ:new Array(7).fill(!0),RZd:t,RZdBH:t,RZSpiralswap:t,RZMS:t,RZnoB:[!0,!0,!1,!0,!0,!1,!1]}[this.strat].map((t=>"function"==typeof t?t:()=>t))}getMilestoneConditions(){return[()=>!0,()=>!0,()=>this.variables[2].level<1,()=>1==this.milestones[1],()=>1==this.milestones[2],()=>1==this.milestones[2],()=>this.variables[6].level<2]}getMilestoneTree(){return{RZ:[[0,0,0,0],[0,1,0,0],[0,1,1,0],[1,1,1,0],[2,1,1,0],[3,1,1,0],[3,1,1,0]],RZd:[[0,0,0,0],[0,1,0,0],[0,1,1,0],[1,1,1,0],[2,1,1,0],[3,1,1,0],[3,1,1,0]],RZdBH:[[0,0,0,0],[0,1,0,0],[0,1,1,0],[1,1,1,0],[2,1,1,0],[3,1,1,0],[3,1,1,1]],RZSpiralswap:[[0,0,0,0],[0,1,0,0],[1,1,0,0],[2,1,0,0],[3,1,0,0],[3,1,1,0],[3,1,1,0],[3,1,1,1]],RZMS:[[0,0,0,0],[0,1,0,0],[0,1,1,0],[1,1,1,0],[2,1,1,0],[3,1,1,0],[3,1,1,0],[3,1,1,1]],RZnoB:[[0,0,0,0],[0,1,0,0],[0,1,1,0],[1,1,1,0],[2,1,1,0],[3,1,1,0],[3,1,1,0]]}[this.strat]}getTotMult(t){return Math.max(0,t*this.tauFactor*2.102+(0,h.wp)(2))}updateMilestones(){let t=(0,h.ry)([0,25,50,125,250,400,600],Math.max(this.lastPub,this.maxRho));const s=[3,1,1,1],i=[2,1,3],e=[2,3,1];if("RZSpiralswap"===this.strat)if(t<=1||5==t)this.milestones=this.milestoneTree[Math.min(this.milestoneTree.length-1,t)];else if(t<=4){let h=i;(this.t_var<=1.25||this.t_var>=15&&this.t_var<=20||this.t_var>=26&&this.t_var<=30||this.t_var>=34&&this.t_var<=37||this.t_var>=44&&this.t_var<=47||this.t_var>=53.5&&this.t_var<=56||this.t_var>=61.5&&this.t_var<=64.5||this.t_var>=72.5&&this.t_var<=75.5||this.t_var>=89&&this.t_var<=92||this.t_var>=96.5&&this.t_var<=98.5||this.t_var>=107.5&&this.t_var<=110.5||this.t_var>=124.5&&this.t_var<=127.25||this.t_var>=135&&this.t_var<=137.75)&&(h=e);let a=t;this.milestones=[0,0,0,0];for(let t=0;t<h.length;t++)for(;this.milestones[h[t]-1]<s[h[t]-1]&&a>0;)this.milestones[h[t]-1]++,a--}else this.maxRho<this.lastPub?this.milestones=this.milestoneTree[Math.min(this.milestoneTree.length-1,t)]:this.milestones=this.milestoneTree[t+1];else if("RZMS"===this.strat)if(t<=1||5==t)this.milestones=this.milestoneTree[Math.min(this.milestoneTree.length-1,t)];else if(t<=4){let h=e;this.maxRho>this.lastPub&&(h=i);let a=t;this.milestones=[0,0,0,0];for(let t=0;t<h.length;t++)for(;this.milestones[h[t]-1]<s[h[t]-1]&&a>0;)this.milestones[h[t]-1]++,a--}else this.maxRho<this.lastPub?this.milestones=this.milestoneTree[Math.min(this.milestoneTree.length-1,t)]:this.milestones=this.milestoneTree[t+1];else this.milestones=this.milestoneTree[Math.min(this.milestoneTree.length-1,t)]}simulate(){return Q(this,void 0,void 0,(function*(){let t=!1;for(;!t&&rt.simulating;)this.ticks||this.dt==G.prevDt&&this.ddt==G.prevDdt||(G.prevDt=this.dt,G.prevDdt=this.ddt,G.zetaLookup=[],G.zetaDerivLookup=[]),(this.ticks+1)%5e5==0&&(yield(0,h._v)()),this.tick(),this.currencies[0]>this.maxRho&&(this.maxRho=this.currencies[0]),this.updateMilestones(),this.curMult=Math.pow(10,this.getTotMult(this.maxRho)-this.totMult),this.buyVariables(),t=(rt.forcedPubTime!==1/0?this.t>rt.forcedPubTime:this.t>2*this.pubT||this.pubRho>this.cap[0]||this.curMult>15)&&this.pubRho>9,this.ticks++;this.pubMulti=Math.pow(10,this.getTotMult(this.pubRho)-this.totMult);let s=(0,h.xo)(this,"");for(;this.boughtVars[this.boughtVars.length-1].timeStamp>this.pubT;)this.boughtVars.pop();return rt.varBuy.push([s[7],this.boughtVars]),s}))}tick(){let t;this.milestones[3]?(t=(t=>Math.min(Math.pow(t,2)+.004,1/4))(this.zTerm),this.offGrid=!0):t=1/4,this.t_var+=this.dt*t/1.5;let s=(0,h.wp)(this.t_var),i=(0,h.wp)(this.dt)+this.totMult,e=this.milestones[1]?this.variables[3].value:0,a=this.milestones[2]?this.variables[4].value:0,o=this.milestones[2]?this.variables[5].value:0,r=this.variables[0].value*J[this.milestones[0]],l=this.variables[1].value,n=1<<this.variables[2].level+this.variables[6].level,u=j(this.t_var,this.ticks,this.offGrid,G.zetaLookup);if(this.milestones[1]){let t=j(this.t_var+1e-4,this.ticks,this.offGrid,G.zetaDerivLookup),s=t[0]-u[0],r=t[1]-u[1],l=(0,h.wp)(Math.sqrt(s*s+r*r))+4;this.currencies[1]=(0,h.IH)(this.currencies[1],l+(0,h.wp)(Math.pow(2,n))+e+a+o+i)}this.rCoord=u[0],this.iCoord=u[1],this.zTerm=Math.abs(u[2]),this.currencies[0]=(0,h.IH)(this.currencies[0],s+r+l+e+i-(0,h.wp)(this.zTerm/n+.01)),this.t+=this.dt/1.5,this.dt*=this.ddt,this.maxRho<this.recovery.value&&(this.recovery.time=this.t),this.tauH=(this.maxRho-this.lastPub)/(this.t/3600),(this.maxTauH<this.tauH||this.maxRho>=this.cap[0]-this.cap[1]||this.pubRho<8||rt.forcedPubTime!==1/0)&&(this.maxTauH=this.tauH,this.pubT=this.t,this.pubRho=this.maxRho)}buyVariables(){let t=[0,0,0,1,1,1,0];for(let s=this.variables.length-1;s>=0;s--)for(;this.currencies[t[s]]>this.variables[s].cost&&this.conditions[s]()&&this.milestoneConditions[s]();)this.currencies[t[s]]=(0,h.$X)(this.currencies[t[s]],this.variables[s].cost),this.maxRho+5>this.lastPub&&this.boughtVars.push({variable:this.varNames[s],level:this.variables[s].level+1,cost:this.variables[s].cost,timeStamp:this.t}),this.variables[s].buy()}}var Y=function(t,s,i,e){return new(i||(i=Promise))((function(h,a){function o(t){try{l(e.next(t))}catch(t){a(t)}}function r(t){try{l(e.throw(t))}catch(t){a(t)}}function l(t){var s;t.done?h(t.value):(s=t.value,s instanceof i?s:new i((function(t){t(s)}))).then(o,r)}l((e=e.apply(t,s||[])).next())}))};class tt{constructor(t){var s;this.strat=t.strat,this.theory="BT",this.tauFactor=e.Jp.BT.tauFactor,this.cap="number"==typeof t.cap&&t.cap>0?[t.cap,1]:[1/0,0],this.recovery=null!==(s=t.recovery)&&void 0!==s?s:{value:0,time:0,recoveryTime:!1},this.lastPub=t.rho,this.sigma=t.sigma,this.pubUnlock=7,this.totMult=t.rho<this.pubUnlock?0:this.getTotMult(t.rho),this.curMult=0,this.dt=rt.dt,this.ddt=rt.ddt,this.t=0,this.ticks=0,this.rho=0,this.maxRho=0,this.variables=[new l({cost:new c(15,2),stepwisePowerSum:{default:!0},firstFreeCost:!0}),new l({cost:new c(5,10),varBase:2})],this.boughtVars=[],this.tauH=0,this.maxTauH=0,this.pubT=0,this.pubRho=0,this.milestones=[0,0,0],this.pubMulti=0,this.conditions=this.getBuyingConditions(),this.milestoneConditions=this.getMilestoneConditions(),this.milestoneTree=this.getMilestoneTree(),this.updateMilestones()}getBuyingConditions(){return{BT:[!0,!0],BTd:[()=>this.variables[0].cost+(0,h.wp)(this.lastPub<275?12+this.variables[0].level%10:10+this.variables[0].level%10)<this.variables[1].cost,!0]}[this.strat].map((t=>"function"==typeof t?t:()=>t))}getMilestoneConditions(){return[()=>!0,()=>!0]}getMilestoneTree(){const t=[[0,0,0],[0,1,0],[0,2,0],[0,3,0],[1,3,0],[2,3,0],[3,3,0],[3,3,1]];return{BT:t,BTd:t}[this.strat]}getTotMult(t){return Math.max(0,t*this.tauFactor*5)}updateMilestones(){let t=0,s=[20,40,60,100,150,275,750];for(let i=0;i<s.length;i++)Math.max(this.lastPub,this.maxRho)>=s[i]&&(t=i+1);this.milestones=this.milestoneTree[Math.min(this.milestoneTree.length-1,t)]}simulate(){return Y(this,void 0,void 0,(function*(){let t=!1;for(;!t&&rt.simulating;)(this.ticks+1)%5e5==0&&(yield(0,h._v)()),this.tick(),this.rho>this.maxRho&&(this.maxRho=this.rho),this.updateMilestones(),this.curMult=Math.pow(10,this.getTotMult(this.maxRho)-this.totMult),this.buyVariables(),t=(rt.forcedPubTime!==1/0?this.t>rt.forcedPubTime:this.t>2*this.pubT||this.pubRho>this.cap[0]||this.pubMulti>3.5)&&this.pubRho>this.pubUnlock,this.ticks++;this.pubMulti=Math.pow(10,this.getTotMult(this.pubRho)-this.totMult);let s=(0,h.xo)(this,"");for(;this.boughtVars[this.boughtVars.length-1].timeStamp>this.pubT;)this.boughtVars.pop();return rt.varBuy.push([s[7],this.boughtVars]),s}))}tick(){let t=this.totMult+this.variables[0].value*(1+.08*this.milestones[0])+this.variables[1].value*(1+.077*this.milestones[1]+.003*this.milestones[2]);this.rho=(0,h.IH)(this.rho,t+(0,h.wp)(this.dt)),this.t+=this.dt/1.5,this.dt*=this.ddt,this.maxRho<this.recovery.value&&(this.recovery.time=this.t),this.tauH=(this.maxRho-this.lastPub)/(this.t/3600),(this.maxTauH<this.tauH||this.maxRho>=this.cap[0]-this.cap[1]||this.pubRho<this.pubUnlock||rt.forcedPubTime!==1/0)&&(this.maxTauH=this.tauH,this.pubT=this.t,this.pubRho=this.maxRho)}buyVariables(){for(let t=this.variables.length-1;t>=0;t--)for(;this.rho>this.variables[t].cost&&this.conditions[t]()&&this.milestoneConditions[t]();){if(this.maxRho+5>this.lastPub){let s=["tai","rao"];this.boughtVars.push({variable:s[t],level:this.variables[t].level+1,cost:this.variables[t].cost,timeStamp:this.t})}this.rho=(0,h.$X)(this.rho,this.variables[t].cost),this.variables[t].buy()}}}var st=function(t,s,i,e){return new(i||(i=Promise))((function(h,a){function o(t){try{l(e.next(t))}catch(t){a(t)}}function r(t){try{l(e.throw(t))}catch(t){a(t)}}function l(t){var s;t.done?h(t.value):(s=t.value,s instanceof i?s:new i((function(t){t(s)}))).then(o,r)}l((e=e.apply(t,s||[])).next())}))};class it{constructor(t){var s;this.strat=t.strat,this.theory="LT-main",this.tauFactor=e.Jp["LT-main"].tauFactor,this.cap="number"==typeof t.cap&&t.cap>0?[t.cap,1]:[1/0,0],this.recovery=null!==(s=t.recovery)&&void 0!==s?s:{value:0,time:0,recoveryTime:!1},this.lastPub=t.rho,this.sigma=t.sigma,this.totMult=this.getTotMult(t.rho),this.curMult=0,this.pubUnlock=7,this.dt=rt.dt,this.ddt=rt.ddt,this.t=0,this.ticks=0,this.timer=0,this.currencies=[0,0],this.cycleTimes={"LT-main-30/30":[1800,1800],"LT-main-2/2":[120,120],"LT-main-2/240":[120,14400]},this.maxRho=0,this.t_var=0,this.s=(0,h.wp)((1+Math.pow(5,.5))/2-1),this.laplaceActive=!1,this.variables=[new l({cost:new c(10,1.8),value:1,stepwisePowerSum:{default:!0}}),new l({cost:new c(750,9),varBase:2}),new l({cost:new c(100,15),varBase:2}),new l({firstFreeCost:!0,cost:new c(400,15),stepwisePowerSum:{default:!0}}),new l({cost:new c(1e4,24),varBase:Math.E}),new l({firstFreeCost:!0,cost:new c(1e5,3),stepwisePowerSum:{default:!0}}),new l({cost:new c(1e7,5e4),varBase:5}),new l({cost:new c(1e50,1e40)}),new l({cost:new c("1e400",1e10)})],this.varNames=["c1","c2","c3","t_dot","c_s1","c_s2","lambda_s","lambda_exp","t_dot_exponent"],this.boughtVars=[],this.tauH=0,this.maxTauH=0,this.pubT=0,this.pubRho=0,this.laplaceCounter=0,this.milestones=[0,0,0,0],this.pubMulti=0,this.conditions=this.getBuyingConditions(),this.milestoneConditions=this.getMilestoneConditions(),this.milestoneTree=this.getMilestoneTree(),this.updateMilestones()}getBuyingConditions(){return{"LT-main-30/30":Array(this.variables.length).fill(!0),"LT-main-2/2":[()=>this.variables[0].cost+(0,h.wp)(5+this.variables[0].level%10*.5+1e-4)<Math.min(this.variables[1].cost,this.variables[2].cost),!0,!0,()=>this.variables[3].cost+1+(0,h.wp)(5+this.variables[3].level%10*.5+1e-4)<Math.min(this.variables[1].cost,this.variables[2].cost),!0,!0,!0,!0],"LT-main-2/240":Array(this.variables.length).fill(!0)}[this.strat].map((t=>"function"==typeof t?t:()=>t))}getMilestoneConditions(){return[()=>0==this.laplaceActive,()=>0==this.laplaceActive,()=>0==this.laplaceActive,()=>0==this.laplaceActive,()=>1==this.laplaceActive,()=>1==this.laplaceActive,()=>1==this.laplaceActive&&this.variables[6].level<40,()=>1==this.laplaceActive]}getMilestoneTree(){const t=[[0,0,0,0],[0,0,1,0],[0,0,2,0],[1,0,2,0],[2,0,2,0],[3,0,2,0],[3,1,2,0],[3,2,2,0],[3,3,2,0],[3,4,2,0],[3,4,2,1]];return{"LT-main-30/30":t,"LT-main-2/2":t,"LT-main-2/240":t}[this.strat]}getTotMult(t){return Math.max(0,t*this.tauFactor*10-(0,h.wp)(2))}updateMilestones(){let t=(0,h.ry)([0,20,40,60,80,100,120,140,160,180,200],Math.max(this.lastPub,this.maxRho));const s=[3,4,2,1],i=[1,2,3,4],e=[3,2,1,4];if("LT-main-2/2"===this.strat){let h,a=t;h=this.laplaceActive?e:i,this.milestones=[0,0,0,0];for(let t=0;t<h.length;t++)for(;this.milestones[h[t]-1]<s[h[t]-1]&&a>0;)this.milestones[h[t]-1]++,a--}else this.milestones=this.milestoneTree[Math.min(this.milestoneTree.length-1,t)];this.variables[6].varBase!==10*Math.pow(10,this.milestones[2])&&(this.variables[6].varBase=10*Math.pow(10,this.milestones[2]),this.variables[6].reCalculate())}simulate(){return st(this,void 0,void 0,(function*(){let t=!1;for(;!t&&rt.simulating;)(this.ticks+1)%5e5==0&&(yield(0,h._v)()),this.tick(),this.currencies[0]>this.maxRho&&(this.maxRho=this.currencies[0]),this.updateMilestones(),this.curMult=Math.pow(10,this.getTotMult(this.maxRho)-this.totMult),this.buyVariables(),t=!this.laplaceActive&&this.laplaceCounter>0&&(rt.forcedPubTime!==1/0?this.t>rt.forcedPubTime:this.t>2*this.pubT||this.pubRho>this.cap[0])&&this.pubRho>this.pubUnlock,this.ticks++;this.pubMulti=Math.pow(10,this.getTotMult(this.pubRho)-this.totMult);const s=(0,h.xo)(this,"");for(;this.boughtVars[this.boughtVars.length-1].timeStamp>this.pubT;)this.boughtVars.pop();return rt.varBuy.push([s[7],this.boughtVars]),s}))}transform(){this.laplaceActive=!this.laplaceActive,this.laplaceCounter++}getQS(){return 2*this.variables[5].value+this.variables[4].value/2+this.s+(0,h.IH)(this.s,0)}tick(){let t=this.laplaceActive?this.cycleTimes[this.strat][1]:this.cycleTimes[this.strat][0];this.maxRho>4&&this.timer>=t&&(this.timer=0,this.transform());let s=(0,h.wp)(this.dt),i=this.totMult;if(this.laplaceActive)this.variables[5].level>0&&(this.s=(0,h.IH)(this.s,this.t_var),this.t_var=0,this.currencies[1]=(0,h.IH)(this.currencies[1],i*(.1+.1*this.milestones[1])+this.getQS()+s));else{this.t_var=(0,h.IH)(this.t_var,1.01*this.variables[8].level*(this.variables[3].value+(0,h.wp)(.05))+s);let t=this.variables[2].value;this.t_var<2&&(t+=(0,h.wp)(1-Math.exp(-Math.pow(10,this.t_var)))),this.currencies[0]=(0,h.IH)(this.currencies[0],i+this.variables[0].value*(1+.05*this.milestones[0])+this.variables[1].value+this.variables[6].value*(1+.1*this.variables[7].level)+t+s)}this.timer+=this.dt/1.5,this.t+=this.dt/1.5,this.dt*=this.ddt,this.maxRho<this.recovery.value&&(this.recovery.time=this.t),this.tauH=(this.maxRho-this.lastPub)/(this.t/3600),(this.maxTauH<this.tauH||this.maxRho>=this.cap[0]-this.cap[1]||this.pubRho<this.lastPub||this.pubRho<this.pubUnlock||rt.forcedPubTime!==1/0)&&(this.maxTauH=this.tauH,this.pubT=this.t,this.pubRho=this.maxRho)}buyVariables(){const t=[0,0,0,0,1,1,1,1,0];for(let s=this.variables.length-1;s>=0;s--)for(;this.currencies[t[s]]>this.variables[s].cost&&this.conditions[s]()&&this.milestoneConditions[s]();)this.currencies[t[s]]=(0,h.$X)(this.currencies[t[s]],this.variables[s].cost),this.maxRho+5>this.lastPub&&this.boughtVars.push({variable:this.varNames[s],level:this.variables[s].level+1,cost:this.variables[s].cost,symbol:0===t[s]?"rho":"lambda",timeStamp:this.t}),this.variables[s].buy()}}var et=function(t,s,i,e){return new(i||(i=Promise))((function(h,a){function o(t){try{l(e.next(t))}catch(t){a(t)}}function r(t){try{l(e.throw(t))}catch(t){a(t)}}function l(t){var s;t.done?h(t.value):(s=t.value,s instanceof i?s:new i((function(t){t(s)}))).then(o,r)}l((e=e.apply(t,s||[])).next())}))};class ht{constructor(t){var s;this.strat=t.strat,this.theory="LT-c1",this.tauFactor=e.Jp["LT-main"].tauFactor,this.cap="number"==typeof t.cap&&t.cap>0?[t.cap,1]:[1/0,0],this.recovery=null!==(s=t.recovery)&&void 0!==s?s:{value:0,time:0,recoveryTime:!1},this.lastPub=t.rho,this.sigma=t.sigma,this.curMult=0,this.dt=rt.dt,this.ddt=rt.ddt,this.t=0,this.ticks=0,this.timer=0,this.currencies=[0,0],this.cycleTimes=[60,300],this.maxRho=0,this.r=0,this.i=0,this.t_var=0,this.laplaceActive=!1,this.variables=[new l({cost:new c(10,1.8),value:1,stepwisePowerSum:{default:!0}}),new l({cost:new c(750,9),varBase:2}),new l({cost:new c(1e4,22),varBase:1.61}),new l({cost:new c(2e3,10),varBase:2}),new l({cost:new c(500,4),varBase:1.5}),new l({cost:new c(10,10),varBase:3})],this.varNames=["c1","c2","c3","c1s","c2s","lambda"],this.boughtVars=[],this.tauH=0,this.maxTauH=0,this.pubT=0,this.pubRho=0,this.laplaceCounter=0,this.pubMulti=0,this.milestones=[0],this.conditions=this.getBuyingConditions(),this.milestoneConditions=this.getMilestoneConditions()}getBuyingConditions(){return{"LT-c1":new Array(this.variables.length).fill(!0)}[this.strat].map((t=>"function"==typeof t?t:()=>t))}getMilestoneConditions(){return[()=>0==this.laplaceActive,()=>0==this.laplaceActive,()=>0==this.laplaceActive,()=>1==this.laplaceActive,()=>1==this.laplaceActive,()=>1==this.laplaceActive]}simulate(){return et(this,void 0,void 0,(function*(){let t=!1;for(;!t&&rt.simulating;)(this.ticks+1)%5e5==0&&(yield(0,h._v)()),this.tick(),this.currencies[0]>this.maxRho&&(this.maxRho=this.currencies[0]),this.buyVariables(),t=this.maxRho>=20,this.ticks++;this.maxTauH=69,this.pubT=this.t,this.pubRho=this.maxRho;const s=(0,h.xo)(this,"");for(;this.boughtVars[this.boughtVars.length-1].timeStamp>this.pubT;)this.boughtVars.pop();return rt.varBuy.push([s[7],this.boughtVars]),s}))}transform(){this.laplaceActive=!this.laplaceActive,this.laplaceCounter++}tick(){let t=this.laplaceActive?this.cycleTimes[1]:this.cycleTimes[0];this.timer>=t&&(this.timer=0,this.transform());let s=(0,h.wp)(this.dt);if(this.laplaceActive){let t=this.variables[3].value+(0,h.wp)(.5),i=this.variables[4].value-(0,h.wp)(Math.abs(1.1-this.variables[4].level%2==0?.94:1.21));this.r=(0,h.IH)(this.r,t+s),this.i=(0,h.IH)(this.i,i+s),this.currencies[1]=(0,h.IH)(this.currencies[1],this.variables[2].value+this.r+this.i+s)}else this.currencies[0]=(0,h.IH)(this.currencies[0],this.variables[0].value+this.variables[1].value+this.variables[5].value);this.timer+=this.dt/1.5,this.t+=this.dt/1.5,this.dt*=this.ddt}buyVariables(){const t=[0,0,0,1,1,1];for(let s=this.variables.length-1;s>=0;s--)for(;this.currencies[t[s]]>this.variables[s].cost&&this.conditions[s]()&&this.milestoneConditions[s]();)this.currencies[t[s]]=(0,h.$X)(this.currencies[t[s]],this.variables[s].cost),this.maxRho+5>this.lastPub&&this.boughtVars.push({variable:this.varNames[s],level:this.variables[s].level+1,cost:this.variables[s].cost,symbol:0===t[s]?"rho":"lambda",timeStamp:this.t}),this.variables[s].buy()}}var at=function(t,s,i,e){return new(i||(i=Promise))((function(h,a){function o(t){try{l(e.next(t))}catch(t){a(t)}}function r(t){try{l(e.throw(t))}catch(t){a(t)}}function l(t){var s;t.done?h(t.value):(s=t.value,s instanceof i?s:new i((function(t){t(s)}))).then(o,r)}l((e=e.apply(t,s||[])).next())}))};const ot=(0,h.qs)(".output"),rt={dt:1.5,ddt:1.0001,stratFilter:!0,simulating:!1,forcedPubTime:1/0,showA23:!1,varBuy:[[0,[{variable:"var",level:0,cost:0,timeStamp:0}]]],customVal:null},lt={lastStrat:"",simEndTimestamp:0};function nt(t){return at(this,void 0,void 0,(function*(){if(rt.simulating)return rt.simulating=!1,"Sim stopped.";if((performance.now()-lt.simEndTimestamp)/1e3<1)return null;try{let s=(0,a.IR)(t),i=[];switch(rt.simulating=!0,s.mode){case"Single sim":i=[yield ut(s)];break;case"Chain":i=yield function(t){return at(this,void 0,void 0,(function*(){let s=t.rho,i=0;const a=t.rho,o=[];let r=(0,h.Ti)(t.cap),l=0;for(;s<t.cap;){let e=performance.now();e-l>250&&(l=e,ot.textContent=`Simulating ${(0,h.Ti)(s,0)}/${r}`,yield(0,h._v)());let a=yield ut(Object.assign({},t));if(!rt.simulating)break;"string"==typeof a[6]&&(lt.lastStrat=a[6].split(" ")[0]),o.push(a),s=a[a.length-1][0],t.rho=s,i+=a[a.length-1][1]}lt.lastStrat="",o.push(["","","","","ΔTau Total","","",'Average <span style="font-size:0.9rem; font-style:italics">&tau;</span>/h',"Total Time"]);const n=(t.rho-a)*e.Jp[t.theory].tauFactor;return o.push(["","","","",(0,h.Ti)(n,2),"","",(0,h.uf)(n/(i/3600),5),(0,h.rJ)(i)]),o}))}(s);break;case"Steps":i=yield function(t){return at(this,void 0,void 0,(function*(){let s=0;t.rho;const i=[];let e=(0,h.Ti)(t.cap),a=0;for(;t.rho<t.cap+1e-5;){let o=performance.now();o-a>250&&(a=o,ot.textContent=`Simulating ${(0,h.Ti)(t.rho,0)}/${e}`,yield(0,h._v)());let r=yield ut(Object.assign({},t));if(!rt.simulating)break;"string"==typeof r[6]&&(lt.lastStrat=r[6].split(" ")[0]),i.push(r),t.rho+=t.modeInput,s+=r[r.length-1][1]}return lt.lastStrat="",i}))}(s);break;case"All":i=yield function(t){return at(this,void 0,void 0,(function*(){const s=t.modeInput[0],i=t.modeInput.slice(1,t.modeInput.length);let e=[];for(let o=0;o<i.length;o++){if(0===i[o])continue;if(ot.innerText=`Simulating ${(0,h.k7)(o)}/${(0,h.k7)(i.length-1)}`,yield(0,h._v)(),!rt.simulating)break;let r=["Best Semi-Idle","Best Overall"];null!=t.simAllInputs&&(r=[t.simAllInputs[0]?"Best Semi-Idle":"Best Idle",t.simAllInputs[1]?"Best Overall":"Best Active"]);let l=[];for(let t=0;t<r.length;t++){let e={theory:(0,h.k7)(o),strat:r[t],sigma:s,rho:i[o],cap:1/0,mode:"Single Sim"};l.push(yield ut(e))}e.push([(a=l)[0][0],a[0][2],a[1][7],a[0][7],(0,h.uf)(a[1][7]/a[0][7],4),a[1][5],a[0][5],a[1][6],a[0][6],a[1][8],a[0][8],a[1][4],a[0][4]])}var a;return e.push([s]),e}))}(s)}return lt.simEndTimestamp=performance.now(),i}catch(t){return String(t)}}))}function ut(t){var s;return at(this,void 0,void 0,(function*(){if(e.p6.includes(t.strat))return function(t){return at(this,void 0,void 0,(function*(){const s=function(t,s,i,h){let a=[];const r=[...e.p6.map((t=>t===i)),s,h];for(const s of Object.keys(o[t].strats))!o[t].strats[s].stratFilterCondition(...r)&&rt.stratFilter||!o[t].strats[s].forcedCondition(...r)||a.push(s);return a}(t.theory,t.rho,t.strat,lt.lastStrat);let i=new Array(9).fill(0);for(let e=0;e<s.length;e++){t.strat=s[e];let h=yield ut(t);i[7]<h[7]&&(i=h)}return i}))}(t);const i={strat:t.strat,sigma:t.sigma,rho:t.rho,recursionValue:null,recovery:null!==(s=t.recovery)&&void 0!==s?s:{value:0,time:0,recoveryTime:!1},cap:t.hardCap?t.cap:null};switch(t.theory){case"T1":return yield function(t){return p(this,void 0,void 0,(function*(){let s=new m(t);return yield s.simulate()}))}(i);case"T2":return yield function(t){return b(this,void 0,void 0,(function*(){let s=new d(t);return yield s.simulate()}))}(i);case"T3":return yield function(t){return w(this,void 0,void 0,(function*(){let s=new f(t);return yield s.simulate()}))}(i);case"T4":return yield function(t){return M(this,void 0,void 0,(function*(){let s=new g(t);return yield s.simulate(t)}))}(i);case"T5":return yield function(t){return T(this,void 0,void 0,(function*(){let s=new y(t);return yield s.simulate()}))}(i);case"T6":return yield function(t){return C(this,void 0,void 0,(function*(){let s=new x(t);return yield s.simulate()}))}(i);case"T7":return yield function(t){return S(this,void 0,void 0,(function*(){let s=new R(t);return yield s.simulate()}))}(i);case"T8":return yield function(t){return P(this,void 0,void 0,(function*(){let s=new I(t);return yield s.simulate()}))}(i);case"WSP":return yield function(t){return H(this,void 0,void 0,(function*(){let s=new F(t);return yield s.simulate()}))}(i);case"SL":return yield function(t){return V(this,void 0,void 0,(function*(){let s=new A(t);return yield s.simulate()}))}(i);case"EF":return yield B(i);case"CSR2":return yield function(t){return _(this,void 0,void 0,(function*(){let s=new L(t);return yield s.simulate(t)}))}(i);case"RZ":return yield function(t){return Q(this,void 0,void 0,(function*(){let s=new K(t);return yield s.simulate()}))}(i);case"FP":return yield function(t){return $(this,void 0,void 0,(function*(){let s=new N(t);return yield s.simulate()}))}(i);case"BT":return yield function(t){return Y(this,void 0,void 0,(function*(){let s=new tt(t);return yield s.simulate()}))}(i);case"LT-main":return yield function(t){return st(this,void 0,void 0,(function*(){let s=new it(t);return yield s.simulate()}))}(i);case"LT-c1":return yield function(t){return et(this,void 0,void 0,(function*(){let s=new ht(t);return yield s.simulate()}))}(i)}}))}},774:(t,s,i)=>{i.d(s,{IR:()=>a,NB:()=>u});var e=i(434),h=i(297);function a(t){const s={theory:t.theory,strat:t.strat,mode:t.mode,hardCap:t.hardCap,modeInput:t.modeInput,simAllInputs:t.simAllInputs,sigma:0,rho:0,cap:1/0,recovery:null};if("All"!==t.mode&&"Time diff."!==t.mode){if(t.sigma.length>0&&null!==t.sigma.match(/^[0-9]+$/)&&parseInt(t.sigma)>=0&&parseFloat(t.sigma)%1==0)s.sigma=parseInt(t.sigma);else if("T"===t.theory.charAt(0))throw"Invalid sigma value. Sigma must be an integer that's >= 0";if(!(t.rho.length>0))throw"Input value cannot be empty.";if(s.rho=o(t.rho,s.theory,s.sigma),"Chain"===t.mode||"Steps"===t.mode){if(!(t.cap.length>0))throw"Cap value cannot be empty.";s.cap=o(t.cap,s.theory,s.sigma)}}return"Single sim"!==t.mode&&"Chain"!==t.mode&&("Time diff."===t.mode&&(t.modeInput=JSON.stringify(t.timeDiffInputs)),s.modeInput=function(t,s){if("Steps"===s&&"string"==typeof t&&r(t))return l(t);if("Amount"===s&&"string"==typeof t){if(null!==t.match(/[0-9]/))return parseFloat(t);throw s+" input must be a number."}if("All"===s)return function(t){let s=t.split(" ");for(let t=0;t<s.length;t++)s[t]=s[t].replace(" ",""),s[t]=s[t].replace("\n","");if(s=s.filter((t=>""!==t)),s.length<2)throw"Student count and at least one theory value that is not 0 is required.";if(s.length-1>Object.keys(h.Jp).length)throw`Invalid value ${s[Object.keys(h.Jp).length+1]} does not match any theory.`;let i=[];if(a=s[0],!/^\d+$/.test(a))throw`Invalid student value ${s[0]}.`;var a;i.push(parseInt(s[0]));for(let t=1;t<s.length;t++)i.push(o(s[t],(0,e.k7)(t-1),i[0],"t"));return i}(t);if("Time diff."===s)return n(t);if("Time diff."===s||"Single sim"===s||"Chain"===s)return t;throw`Couldnt parse mode ${s}. Please contact the author of the sim.`}(t.modeInput,t.mode)),s}function o(t,s,i,e="r"){if("string"==typeof t){const s=t.charAt(t.length-1);if(null!==s.match(/[r/t/m]/))r(t=t.slice(0,-1))&&(t=[t,s]);else{if(!s.match(/[0-9]/))throw`Invalid currency value ${t}. Currency value must be in formats <number>, <exxxx> or <xexxxx>.`;r(t)&&(t=[t,e])}}if("string"==typeof t[0]&&Array.isArray(t)&&(t[0]=l(t[0])),"number"!=typeof t[0])throw`Cannot parse value ${t[0]}. Please contact the author of the sim.`;if("r"===t[1])return t[0];if("t"===t[1])return t[0]/h.Jp[s].tauFactor;if("m"===t[1])return function(t,s,i){let e=()=>i<65?0:i<75?1:i<85?2:3,h=(t,h)=>(s-Math.log10(Math.pow(i/20,e()))+Math.log10(h))*(1/t),a=t=>(s-Math.log10(Math.pow(i/20,e())))*(1/t);switch(t){case"T1":return h(.164,3);case"T2":return h(.198,100);case"T3":return o=.147,r=3,(s-Math.log10(Math.pow(i/20,e()))-Math.log10(r))*(1/o);case"T4":return h(.165,4);case"T5":return a(.159);case"T6":return h(.196,50);case"T7":return a(.152);case"T8":return a(.15);case"WSP":case"SL":return s/.15;case"EF":return s*(1/.387)*2.5;case"CSR2":return(s+Math.log10(200))*(1/2.203)*10}var o,r;throw"Failed parsing multiplier. Please contact the author of the sim."}(s,t[0],i);throw`Cannot parse value ${t[0]} and ${t[1]}. Please contact the author of the sim.`}function r(t){if(null===t.match(/^[0-9/e/.]+$/))throw`Invalid currency value ${t}. Currency value must be in formats <number>, <exxxx> or <xexxxx>.`;let s=0;for(let i=0;i<t.length;i++)"e"===t[i]&&s++;if(s>1)throw`Invalid currency value ${t}. Currency value must be in formats <number>, <exxxx> or <xexxxx>.`;let i=0;for(let s=0;s<t.length;s++)"."===t[s]&&i++;if(i>1)throw`Invalid currency value ${t}. Currency value must be in formats <number>, <exxxx> or <xexxxx>.`;return!0}function l(t){return/[e]/.test(t)?(0,e.mv)(t):parseFloat(t)}function n(t){const s=JSON.parse(t),i={sigma:[0,0],ct:!1};let h=0;s[2]=s[2].split(" ");for(let t=0;t<s[2].length;t++)0!==s[2][t].length&&(h<2?i.sigma[h]=Math.max(0,parseInt(s[2][t])):i.ct="y"===s[2][t],h++);const a=[];for(let t=0;t<2;t++){const h=s[t].split(","),r=[];for(let s=0;s<h.length;s++){const a=h[s].split(" "),l=[];for(let h=0;h<a.length;h++)0!==a[h].length&&l.push(o(a[h],(0,e.k7)(s+8*Number(i.ct)),i.sigma[t],"t"));r.push(l)}a.push(r)}return a}function u(){const t=(0,e.uJ)(".timeDiffInput"),s=(0,e.qs)(".timeDiffTable"),i=[];for(const s of t)i.push(s.value);for(n(JSON.stringify(i));s.firstChild;)s.firstChild.remove();const h=document.createElement("th"),a=document.createElement("td");a.innerHTML="Hello world",h.appendChild(a),s.appendChild(h)}},936:(t,s,i)=>{var e=i(434);const h=(0,e.qs)(".clear"),a=(0,e.qs)(".imageC"),o=(0,e.qs)(".imageD");let r;const l=(0,e.qs)(".output");function n(t){html2canvas((0,e.qs)(".simTable")).then((s=>s.toBlob((i=>{if("download"===t){const t=document.createElement("a");t.href=s.toDataURL("image/png"),t.download="output.png",t.click()}else navigator.clipboard.write([new ClipboardItem({"image/png":i})]).then((()=>{console.log("Sucsessfully created image!")})).catch((()=>console.log("Failed creating image.")))}))))}(0,e.B)(h,"pointerdown",(()=>{for(r=(0,e.qs)("tbody");r.firstChild;)r.firstChild.remove();l.textContent="",console.clear()})),(0,e.B)(a,"pointerdown",(()=>n(""))),(0,e.B)(o,"pointerdown",(()=>n("download")));const u=(0,e.qs)(".saveDist"),c=(0,e.qs)(".getDist"),v=(0,e.qs)("textarea");(0,e.B)(u,"pointerdown",(()=>{0!==v.value.replace(" ","").length&&(u.classList.add("animate"),setTimeout((()=>u.classList.remove("animate")),550),localStorage.setItem("savedDistribution",v.value))})),(0,e.B)(c,"pointerdown",(()=>{var t;v.value=null!==(t=localStorage.getItem("savedDistribution"))&&void 0!==t?t:v.value}))},179:(t,s,i)=>{var e=i(434),h=i(473);const a=(0,e.qs)(".settingsBtn"),o=(0,e.qs)(".settingsCloseBtn"),r=(0,e.qs)(".settings");(0,e.B)(a,"pointerdown",(()=>{r.showModal(),document.body.style.overflow="hidden"})),(0,e.B)(o,"pointerdown",(()=>{r.close(),document.body.style.overflow="auto"}));const l=(0,e.qs)(".dt"),n=(0,e.qs)(".dtOtp"),u=(0,e.qs)(".ddt"),c=(0,e.qs)(".ddtOtp");(0,e.B)(l,"input",(()=>n.textContent="0"===l.value?"0.15":"10"===l.value?"5":String((0,e.uf)(.15+Math.pow(2,parseFloat(l.value))*(4.9/(1+Math.pow(2,parseFloat(l.max)))),4)))),(0,e.B)(u,"input",(()=>c.textContent="0"===u.value?"1":"10"===u.value?"1.3":String((0,e.NM)(1+Number((0,e.uf)(Math.pow(3,parseFloat(u.value))*(.3/Math.pow(3,parseFloat(u.max))),2)),7))));const v=(0,e.qs)(".setState"),p=(0,e.qs)(".getState");(0,e.B)(v,"pointerdown",(()=>(0,h.t)())),(0,e.B)(p,"pointerdown",(()=>(0,h.P)())),(0,e.B)((0,e.qs)(".resetSettings"),"pointerdown",(()=>{l.value="8.1943",n.textContent="1.5",u.value="2.71233",c.textContent="1.0001"}))},93:(t,s,i)=>{var e=i(520),h=i(434),a=i(473);const o=(0,h.qs)(".theory"),r=(0,h.qs)(".strat"),l=(0,h.qs)(".sigma"),n=(0,h.qs)(".input"),u=(0,h.qs)(".cap"),c=(0,h.qs)(".mode"),v=(0,h.qs)("textarea"),p=(0,h.uJ)(".timeDiffInput"),m=(0,h.qs)(".hardCap"),b=(0,h.qs)(".semi-idle"),d=(0,h.qs)(".hard-active"),w=(0,h.qs)(".output");let f=(0,h.qs)(".simTable"),M=(0,h.qs)(".simTable > thead"),g=(0,h.qs)(".simTable > tbody");const T=(0,h.qs)(".simulate"),y=(0,h.qs)(".dtOtp"),C=(0,h.qs)(".ddtOtp"),x=(0,h.qs)(".a23");let S="All";const R='<span style="font-size:0.9rem; font-style:italics">&tau;</span>',P={current:"All",single:`<th style="padding-inline: 0.5rem !important">Theory</th><th><span style="font-size:0.9rem;">&sigma;</span><sub>t</sub></th><th>Last Pub</th><th>Max Rho</th><th>&Delta;${R}</th><th>Multi</th><th>Strat</th><th>${R}/h</th><th>Pub Time</th>`,all:`<th>&emsp;</th><th>Input</th><th>${R}/h Active</th><th>${R}/h Idle</th><th>Ratio</th><th>Multi Active</th><th>Multi Idle</th><th>Strat Active</th><th>Strat Idle</th><th>Time Active</th><th>Time Idle</th><th>&Delta;${R} Active</th><th>&Delta;${R} Idle</th>`};function I(t){document.body.style.overflow="hidden",(0,h.qs)(".boughtVars").showModal();const s=(0,h.qs)(".boughtVarsOtp");for(;s.firstChild;)s.firstChild.remove();for(let i=0;i<t.length;i++){const e=document.createElement("tr"),a=document.createElement("td");a.innerText=t[i].variable,e.appendChild(a);const o=document.createElement("td");o.innerText=t[i].level.toString(),e.appendChild(o);const r=document.createElement("td");r.innerHTML=`${(0,h.Ti)(t[i].cost,2)}<span style="margin-left:.1em">${H(t[i].symbol)}</span>`,e.appendChild(r);const l=document.createElement("td");l.innerText=(0,h.rJ)(t[i].timeStamp),e.appendChild(l),s.appendChild(e)}}function H(t){if(void 0===t||"rho"===t)return"ρ";if("lambda"===t)return"λ";if(/_/.test(t)){const s=(t=t.replace(/{}/g,"")).split("_");return`${H(s[0])}<sub>${s[1]}</sub>`}return t}function F(){for(;g.firstChild;)g.firstChild.remove()}M.innerHTML=P.all,f.classList.add("big"),"true"===localStorage.getItem("autoSave")&&setTimeout((()=>(0,a.P)()),500),(0,h.B)(T,"click",(()=>{return t=void 0,s=void 0,R=function*(){var t,s;e.C.dt=parseFloat(null!==(t=y.textContent)&&void 0!==t?t:"1.5"),e.C.ddt=parseFloat(null!==(s=C.textContent)&&void 0!==s?s:"1.0001"),e.C.stratFilter=!0,e.C.showA23=x.checked,localStorage.setItem("simAllSettings",JSON.stringify([b.checked,d.checked]));const i={theory:o.value,strat:r.value,sigma:l.value.replace(" ",""),rho:n.value.replace(" ",""),cap:u.value.replace(" ",""),mode:c.value,modeInput:v.value,simAllInputs:[b.checked,d.checked],timeDiffInputs:[],hardCap:m.checked};for(let t of p)i.timeDiffInputs.push(t.value);w.textContent="",T.textContent="Stop simulating",yield(0,h._v)();let R=yield(0,e.m)(i);w.textContent="string"==typeof R?R:"",null!==R&&"string"!=typeof R&&function(t){S!==c.value&&F(),S=c.value,f=(0,h.qs)(".simTable"),M=(0,h.qs)(".simTable > thead"),g=(0,h.qs)(".simTable > tbody"),"All"===c.value?(f.classList.add("big"),f.classList.remove("small"),M.innerHTML=P.all,M.children[0].children[0].innerHTML=t[t.length-1][0].toString()+'<span style="font-size:0.9rem;">&sigma;</span><sub>t</sub>',t.pop()):(f.classList.remove("big"),f.classList.add("small"),M.innerHTML=P.single),(g.children.length>1&&(t.length>1||""===g.children[g.children.length-1].children[0].innerHTML)||"All"===c.value)&&F();for(let s=0;s<t.length;s++){const i=(0,h.ce)("tr");for(let e=0;e<M.children[0].children.length;e++){const a=(0,h.ce)("td");a.innerHTML=String(t[s][e]),i.appendChild(a)}g.appendChild(i)}!function(){g=(0,h.qs)(".simTable > tbody");for(let t=0;t<e.C.varBuy.length;t++)for(let s=0;s<(null==g?void 0:g.children.length);s++){const i=null==g?void 0:g.children[s];if(parseFloat(null==i?void 0:i.children[7].innerHTML)===parseFloat(e.C.varBuy[t][0])){let s=e.C.varBuy[t][1];(null==i?void 0:i.children[8]).onclick=()=>{I(s)},(null==i?void 0:i.children[8]).style.cursor="pointer"}}e.C.varBuy=[]}()}(R),T.textContent="Simulate",e.C.simulating=!1,(0,a.t)()},new((i=void 0)||(i=Promise))((function(e,h){function a(t){try{r(R.next(t))}catch(t){h(t)}}function o(t){try{r(R.throw(t))}catch(t){h(t)}}function r(t){var s;t.done?e(t.value):(s=t.value,s instanceof i?s:new i((function(t){t(s)}))).then(a,o)}r((R=R.apply(t,s||[])).next())}));var t,s,i,R})),(0,h.B)((0,h.qs)(".boughtVarsCloseBtn"),"pointerdown",(()=>{(0,h.qs)(".boughtVars").close(),document.body.style.overflow="auto"}))},473:(t,s,i)=>{i.d(s,{P:()=>$,t:()=>L});var e=i(434),h=i(297),a=i(774);const o=(0,e.qs)(".theory"),r=(0,e.qs)(".strat"),l=((0,e.qs)(".sigma"),(0,e.qs)(".input"),(0,e.qs)(".cap")),n=(0,e.qs)(".mode"),u=(0,e.qs)("textarea"),c=(0,e.qs)(".hardCap"),v=(0,e.qs)(".semi-idle"),p=(0,e.qs)(".hard-active"),m=(0,e.uJ)(".timeDiffInput"),b=(0,e.qs)(".extraInputs"),d=(0,e.qs)(".timeDiffWrapper"),w=(0,e.uJ)(".controls")[0],f=(0,e.qs)(".simAllInputs"),M=(0,e.qs)(".extraInputDescription"),g=Object.keys(h.Jp);function T(){w.style.display="none",b.style.display="none",d.style.display="none",c.style.display="none",f.style.display="none",M.style.display="inline",u.style.height="1.8em",u.style.width="6rem",l.style.display="none",(0,e.qs)(".capDesc").style.display="none","Chain"!==n.value&&"Steps"!==n.value||(l.style.display="inline",(0,e.qs)(".capDesc").style.display="inline"),"Single sim"!==n.value&&"Time diff."!==n.value&&"Chain"!==n.value&&(b.style.display="flex"),"Time diff."===n.value&&(d.style.display="grid"),"All"!==n.value&&"Time diff."!==n.value&&(w.style.display="grid"),"All"===n.value&&(f.style.display="grid",M.style.display="none",u.style.height="3rem",u.style.width="20rem"),u.placeholder=h.CN[(0,e.cx)(h.Sw,n.value)],M.textContent=h.xy[(0,e.cx)(h.Sw,n.value)]}function y(){for(;r.firstChild;)r.firstChild.remove();for(let t=0;t<4;t++){const s=(0,e.ce)("option");s.value=h.p6[t],s.textContent=h.p6[t],r.appendChild(s)}const t=o.value,s=Object.keys(h.Jp[t].strats);for(let i=0;i<s.length;i++){if(!1===h.Jp[t].strats[s[i]].UI_visible)continue;const a=(0,e.ce)("option");a.value=s[i],a.textContent=s[i],r.appendChild(a)}}window.onload=()=>{var t;for(let t=0;t<g.length;t++){if(!1===h.Jp[g[t]].UI_visible)continue;const s=(0,e.ce)("option");s.value=g[t],s.textContent=g[t],o.appendChild(s)}const s=Object.keys(h.Jp.T1.strats);for(let t=0;t<s.length;t++){const i=(0,e.ce)("option");i.value=s[t],i.textContent=s[t],r.appendChild(i)}for(let t=0;t<h.Sw.length;t++){const s=(0,e.ce)("option");s.value=h.Sw[t],s.textContent=h.Sw[t],n.appendChild(s)}T(),(0,e.B)(n,"input",T),(0,e.B)(o,"change",y);const i=JSON.parse(null!==(t=localStorage.getItem("simAllSettings"))&&void 0!==t?t:"[true, false]");v.checked=i[0],p.checked=i[1];for(const t of m)(0,e.B)(t,"input",(()=>{(0,a.NB)()}))};const C=(0,e.qs)(".theory"),x=(0,e.qs)(".strat"),S=(0,e.qs)(".sigma"),R=(0,e.qs)(".input"),P=(0,e.qs)(".cap"),I=(0,e.qs)(".mode"),H=(0,e.qs)("textarea"),F=(0,e.qs)(".hardCap"),V=(0,e.qs)(".output"),A=(0,e.qs)(".simTable"),q=(0,e.qs)(".dtOtp"),B=(0,e.qs)(".ddtOtp"),k=(0,e.qs)(".a23"),_='{"controls1":{"theory":{"value":"T1","innerHTML":"<option value="T1">T1</option><option value="T2">T2</option><option value="T3">T3</option><option value="T4">T4</option><option value="T5">T5</option><option value="T6">T6</option><option value="T7">T7</option><option value="T8">T8</option><option value="WSP">WSP</option><option value="SL">SL</option><option value="EF">EF</option><option value="CSR2">CSR2</option><option value="RZ">RZ</option><option value="FP">FP</option>"},"strat":{"value":"Best Overall","innerHTML":"\n            <option value="Best Overall">Best Overall</option>\n            <option value="Best Active">Best Active</option>\n            <option value="Best Semi-Idle">Best Semi-Idle</option>\n            <option value="Best Idle">Best Idle</option>\n          <option value="T1">T1</option><option value="T1C34">T1C34</option><option value="T1C4">T1C4</option><option value="T1Ratio">T1Ratio</option><option value="T1SolarXLII">T1SolarXLII</option>"},"sigma":"","input":"","cap":""},"controls2":{"mode":"Single sim","modeInput":"","extraInputDescription":"","hardCap":false,"timeDiffInputs":["","",""]},"output":"Invalid sigma value. Sigma must be an integer that\'s >= 0","table":"\n        <thead><tr><th> </th><th>Input</th><th><span style="font-size:0.9rem; font-style:italics">τ</span>/h Active</th><th><span style="font-size:0.9rem; font-style:italics">τ</span>/h Idle</th><th>Ratio</th><th>Multi Active</th><th>Multi Idle</th><th>Strat Active</th><th>Strat Idle</th><th>Time Active</th><th>Time Idle</th><th>Δ<span style="font-size:0.9rem; font-style:italics">τ</span> Active</th><th>Δ<span style="font-size:0.9rem; font-style:italics">τ</span> Idle</th></tr></thead>\n        <tbody></tbody>\n      ","settings":{"dt":"1.5","ddt":"1.0001","showA23":false}}';function L(){localStorage.setItem("simState",JSON.stringify({controls1:{theory:{value:C.value,innerHTML:C.innerHTML},strat:{value:x.value,innerHTML:x.innerHTML},sigma:S.value,input:R.value,cap:P.value},controls2:{mode:I.value,modeInput:H.value,extraInputDescription:(0,e.qs)(".extraInputDescription").textContent,hardCap:F.checked,timeDiffInputs:[(0,e.qs)(".timeDiffWrapper").children[0].value,(0,e.qs)(".timeDiffWrapper").children[1].value,(0,e.qs)(".timeDiffWrapper").children[2].value]},output:V.textContent,table:A.innerHTML,settings:{dt:q.textContent,ddt:B.textContent,showA23:k.checked}}))}function $(){var t;const s=JSON.parse(null!==(t=localStorage.getItem("simState"))&&void 0!==t?t:_);C.innerHTML=s.controls1.theory.innerHTML,C.value=s.controls1.theory.value,x.innerHTML=s.controls1.strat.innerHTML,x.value=s.controls1.strat.value,S.value=s.controls1.sigma,R.value=s.controls1.input,P.value=s.controls1.cap,I.value=s.controls2.mode,H.value=s.controls2.modeInput,(0,e.qs)(".extraInputDescription").textContent=s.controls2.extraInputDescription,F.checked=s.controls2.hardCap,(0,e.qs)(".timeDiffWrapper").children[0].value=s.controls2.timeDiffInputs[0],(0,e.qs)(".timeDiffWrapper").children[1].value=s.controls2.timeDiffInputs[1],(0,e.qs)(".timeDiffWrapper").children[2].value=s.controls2.timeDiffInputs[2],V.textContent=s.output,A.innerHTML=s.table,q.textContent=s.settings.dt,B.textContent=s.settings.ddt,k.checked=s.settings.showA23,(0,e.qs)(".dt").value="8.1943",(0,e.qs)(".ddt").value="2.71233",T(),A.classList.remove("big"),A.classList.remove("small"),"All"!==s.controls2.mode?A.classList.add("small"):A.classList.add("big")}},434:(t,s,i)=>{i.d(s,{$X:()=>w,B:()=>r,IH:()=>d,NM:()=>b,Ti:()=>v,_v:()=>n,ce:()=>o,cx:()=>l,k7:()=>u,mv:()=>c,qs:()=>h,rJ:()=>p,ry:()=>M,uJ:()=>a,uf:()=>m,wp:()=>f,xo:()=>g});var e=i(297);const h=t=>document.querySelector(t),a=t=>document.querySelectorAll(t),o=t=>document.createElement(t),r=(t,s,i)=>t.addEventListener(s,(t=>i(t)));function l(t,s){for(let i=0;i<t.length;i++)if(s===t[i])return i;return-1}function n(t=0){return new Promise((s=>setTimeout(s,t)))}function u(t){return Object.keys(e.Jp)[t]}function c(t){const s=String(t).split("e"),i=Number(s[1])+Math.log10(Math.max(1,Number(s[0])));return Number(i)}function v(t,s=3){const i=Math.floor(t),e=t-i,h=b(Math.pow(10,e),s);return(h>=10?h/10:h)+"e"+(h>=10?i+1:i)}function p(t){let s=Math.floor(t/60%60),i=Math.floor(t/3600%24),e=Math.floor(t/86400%365),h=Math.floor(t/31536e3),a="";return h>0&&(a+=h<1e6?h:v(Math.log10(h)),a+="y"),e>0&&(a+=e+"d"),a+=(i<10?"0":"")+i+"h",0===h&&(a+=(s<10?"0":"")+s+"m"),a}function m(t,s=6){return t.toPrecision(s).replace(/[+]/,"")}function b(t,s){return Math.round(t*Math.pow(10,s))/Math.pow(10,s)}function d(t,s){const i=t>s?t:s,e=t>s?s:t,h=Math.floor(i),a=Math.pow(10,i-h),o=Math.floor(e),r=Math.pow(10,e-o);return h+Math.log10(a+r/Math.pow(10,h-o))}function w(t,s){const i=t>s?t:s,e=t>s?s:t,h=Math.floor(i),a=Math.pow(10,i-h),o=Math.floor(e),r=Math.pow(10,e-o);return h+Math.log10(a-r/Math.pow(10,h-o))}function f(t){return Math.log10(t)}function M(t,s){let i=0,e=t.length-1;for(;i<e;){let h=Math.ceil((i+e)/2);t[h]<=s?i=h:e=h-1}return i}function g(t,s){return[t.theory,t.sigma,v(t.lastPub,2),v(t.pubRho,2),v((t.pubRho-t.lastPub)*e.Jp[t.theory].tauFactor,2),m(t.pubMulti),t.strat+s,0===t.maxTauH?0:Number(m(t.maxTauH*e.Jp[t.theory].tauFactor)),p(Math.max(0,t.pubT-t.recovery.time)),[t.pubRho,t.recovery.recoveryTime?t.recovery.time:Math.max(0,t.pubT-t.recovery.time)]]}},297:t=>{t.exports=JSON.parse('{"Jp":{"T1":{"tauFactor":1,"strats":{"T1":{"stratFilterCondition":"(Idle || Semi-Idle) && rho < 25 || rho < 25"},"T1C34":{"stratFilterCondition":"(Idle || Semi-Idle) && rho < 850","forcedCondition":"rho >= 25"},"T1C4":{"stratFilterCondition":"(Idle || Semi-Idle) && rho > 625","forcedCondition":"rho >= 50"},"T1Ratio":{"stratFilterCondition":"(Very-Active && rho < 250) || Active"},"T1SolarXLII":{"stratFilterCondition":"Very-Active"}}},"T2":{"tauFactor":1,"strats":{"T2":{"stratFilterCondition":"Idle || rho < 25"},"T2MC":{"stratFilterCondition":"!Idle && rho > 250"},"T2MS":{"stratFilterCondition":"(Active || Very-Active) && rho < 250"},"T2QS":{"stratFilterCondition":"Semi-Idle && rho < 250"}}},"T3":{"tauFactor":1,"strats":{"T3":{"stratFilterCondition":"false"},"T3C11C12C21":{"stratFilterCondition":"(Idle || Semi-Idle) && rho < 150"},"T3noC11C13C21C33":{"stratFilterCondition":"Idle && rho >= 175 && rho < 300"},"T3noC13C32C33":{"stratFilterCondition":"(Idle || Semi-Idle) && rho >= 100 && rho < 175"},"T3noC13C33":{"stratFilterCondition":"Idle && rho >= 175 && rho < 300"},"T3noP1C13C33":{"stratFilterCondition":"Idle && rho > 260"},"T3Snax":{"stratFilterCondition":"Semi-Idle && rho >= 175"},"T3Snax2":{"stratFilterCondition":"Active && rho > 275"},"T3C11C12C21d":{"stratFilterCondition":"(Active || Very-Active) && rho < 150"},"T3noC11C13C21C33d":{"stratFilterCondition":"(Active || Very-Active) && rho >= 150 && rho < 350","forcedCondition":"rho >= 125"},"T3noC11C13C33d":{"stratFilterCondition":"(Active || Very-Active) && rho >= 150 && rho < 350"},"T3noC13C32C33d":{"stratFilterCondition":"(Active || Very-Active) && rho >= 150 && rho < 175"},"T3noC13C33d":{"stratFilterCondition":"(Active || Very-Active) && rho >= 150 && rho < 225"},"T3Play":{"stratFilterCondition":"Very-Active && rho > 200 && rho < 375","forcedCondition":"rho >= 125"},"T3Play2":{"stratFilterCondition":"Very-Active && rho > 250 ","forcedCondition":"rho >= 125"}}},"T4":{"tauFactor":1,"strats":{"T4":{"stratFilterCondition":"rho < 25"},"T4C12":{"stratFilterCondition":"(Idle || Semi-Idle) && lastStrat !== \\"T4C3\\""},"T4C3":{"stratFilterCondition":"(Idle || Semi-Idle) && rho > 200"},"T4C4":{"stratFilterCondition":"(Idle || Semi-Idle) && rho < 125","forcedCondition":"rho >= 25"},"T4C5":{"stratFilterCondition":"(Idle || Semi-Idle) && rho < 150","forcedCondition":"rho >= 50"},"T4C56":{"stratFilterCondition":"(Idle || Semi-Idle) && rho < 275","forcedCondition":"rho >= 50"},"T4C12d":{"stratFilterCondition":"(Active || Very-Active) && rho < 700 && lastStrat !== \\"T4C3d66\\" && lastStrat !== \\"T4C123d\\""},"T4C123d":{"stratFilterCondition":"(Active || Very-Active) && rho < 700 && rho >= 175 && (lastStrat !== \\"T4C3d66\\" || rho < 225)"},"T4C456dC12rcvMS":{"stratFilterCondition":"(Active || Very-Active) && rho >= 75 && rho < 200","forcedCondition":"rho >= 25"},"T4C356dC12rcv":{"stratFilterCondition":"(Active || Very-Active) && rho >= 175 && rho < 300","forcedCondition":"rho >= 75"},"T4C3d66":{"stratFilterCondition":"(Active || Very-Active) && rho >= 240"}}},"T5":{"tauFactor":1,"strats":{"T5":{"stratFilterCondition":"Idle || rho < 25"},"T5Idle":{"stratFilterCondition":"Semi-Idle"},"T5AI2":{"stratFilterCondition":"Active || Very-Active"}}},"T6":{"tauFactor":1,"strats":{"T6":{"stratFilterCondition":"false"},"T6C3":{"stratFilterCondition":"(Idle || Semi-Idle) && rho < 25"},"T6C4":{"stratFilterCondition":"(Idle || Semi-Idle) && rho >= 25 && rho < 100","forcedCondition":"rho >= 25"},"T6noC34":{"stratFilterCondition":"(Idle || Semi-Idle) && rho >= 100 && rho < 1100 && lastStrat !== \\"T6noC1234\\""},"T6noC345":{"stratFilterCondition":"(Idle || Semi-Idle) && rho >= 100 && rho < 750 && lastStrat !== \\"T6noC34\\" && lastStrat !== \\"T6noC1234\\""},"T6noC1234":{"stratFilterCondition":"(Idle || Semi-Idle) && rho >= 800","forcedCondition":"rho >= 125"},"T6Snax":{"stratFilterCondition":"Semi-Idle && rho >= 400"},"T6C3d":{"stratFilterCondition":"(Active || Very-Active) && rho < 25"},"T6C4d":{"stratFilterCondition":"(Active || Very-Active) && rho >= 25 && rho < 100","forcedCondition":"rho >= 25"},"T6noC34d":{"stratFilterCondition":"Active && rho >= 100 && rho < 1100 && lastStrat !== \\"T6noC1234\\""},"T6noC345d":{"stratFilterCondition":"Active && rho >= 100 && rho < 750 && lastStrat !== \\"T6noC34\\" && lastStrat !== \\"T6noC1234\\""},"T6noC1234d":{"stratFilterCondition":"Active && rho >= 800","forcedCondition":"rho >= 125"},"T6AI":{"stratFilterCondition":"Very-Active && rho >= 100"}}},"T7":{"tauFactor":1,"strats":{"T7":{"stratFilterCondition":"false"},"T7C12":{"stratFilterCondition":"(Idle || Semi-Idle) && (rho < 25 || (rho >= 75 && rho < 100))"},"T7C3":{"stratFilterCondition":"(Idle || Semi-Idle) && rho >= 25 && rho < 75","forcedCondition":"rho >= 25"},"T7noC12":{"stratFilterCondition":"(Idle || Semi-Idle) && rho >= 100 && rho < 550","forcedCondition":"rho >= 25"},"T7noC123":{"stratFilterCondition":"(Idle || Semi-Idle) && rho > 500 && rho < 625","forcedCondition":"rho >= 75"},"T7noC1234":{"stratFilterCondition":"(Idle || Semi-Idle) && rho > 525","forcedCondition":"rho >= 75"},"T7C12d":{"stratFilterCondition":"(Active || Very-Active) && (rho < 25 || (rho >= 75 && rho < 150))"},"T7C3d":{"stratFilterCondition":"(Active || Very-Active) && rho >= 25 && rho < 75","forcedCondition":"rho >= 25"},"T7PlaySpqcey":{"stratFilterCondition":"(Active || Very-Active) && rho >= 100","forcedCondition":"rho >= 100"}}},"T8":{"tauFactor":1,"strats":{"T8":{"stratFilterCondition":"Idle || (Semi-Idle && rho < 100)"},"T8noC3":{"stratFilterCondition":"(Idle || Semi-Idle) && rho < 25"},"T8noC5":{"stratFilterCondition":"(Idle || Semi-Idle) && rho >= 160 && rho < 220"},"T8noC35":{"stratFilterCondition":"(Idle || Semi-Idle) && rho >= 100 && rho < 160"},"T8Snax":{"stratFilterCondition":"Semi-Idle"},"T8noC3d":{"stratFilterCondition":"(Active || Very-Active) && rho < 60"},"T8noC5d":{"stratFilterCondition":"(Active || Very-Active) && rho >= 160 && rho < 220"},"T8noC35d":{"stratFilterCondition":"(Active || Very-Active) && rho >= 100 && rho < 160"},"T8d":{"stratFilterCondition":"(Active || Very-Active) && rho >= 40 && rho < 100"},"T8Play":{"stratFilterCondition":"Active && rho >= 220"},"T8PlaySolarswap":{"stratFilterCondition":"Very-Active"}}},"WSP":{"tauFactor":0.1,"strats":{"WSP":{"stratFilterCondition":"(Idle || Semi-Idle) && rho < 525"},"WSPStopC1":{"stratFilterCondition":"(Idle || Semi-Idle) && rho > 475"},"WSPdStopC1":{"stratFilterCondition":"Active || Very-Active"}}},"SL":{"tauFactor":0.1,"strats":{"SL":{"stratFilterCondition":"Idle || rho < 25"},"SLStopA":{"stratFilterCondition":"Semi-Idle"},"SLStopAd":{"stratFilterCondition":"(Active || Very-Active) && rho >= 300"},"SLMS":{"stratFilterCondition":"Active && rho < 300"},"SLMSd":{"stratFilterCondition":"Very-Active && rho < 300"}}},"EF":{"tauFactor":0.4,"strats":{"EF":{"stratFilterCondition":"Idle || rho < 10"},"EFSnax":{"stratFilterCondition":"Semi-Idle"},"EFd":{"stratFilterCondition":"(Active || Very-Active) && rho < 10"},"EFAI":{"stratFilterCondition":"Active || Very-Active"}}},"CSR2":{"tauFactor":0.1,"strats":{"CSR2":{"stratFilterCondition":"(Idle || Semi-Idle) || rho < 10"},"CSR2d":{"stratFilterCondition":"Active && rho < 500"},"CSR2XL":{"stratFilterCondition":"((Active && rho >= 500) || Very-Active) && rho > 10"}}},"RZ":{"tauFactor":0.1,"strats":{"RZ":{"stratFilterCondition":"Idle || Semi-Idle"},"RZd":{"stratFilterCondition":"Active || Very-Active"},"RZdBH":{"stratFilterCondition":"Active || Very-Active","UI_visible":false},"RZSpiralswap":{"stratFilterCondition":"Very-Active && rho >= 50"},"RZMS":{"stratFilterCondition":"(Active || Very-Active) && rho >= 50"},"RZnoB":{"stratFilterCondition":"Idle || Semi-Idle","UI_visible":false}}},"FP":{"tauFactor":0.075,"strats":{"FP":{"stratFilterCondition":"true"}}},"BT":{"tauFactor":0.1,"strats":{"BT":{"stratFilterCondition":"Idle || Semi-Idle"},"BTd":{"stratFilterCondition":"Active || Very-Active"}}},"LT-main":{"tauFactor":0.015,"UI_visible":false,"strats":{"LT-main-30/30":{},"LT-main-2/2":{},"LT-main-2/240":{}}},"LT-c1":{"tauFactor":1,"UI_visible":false,"strats":{"LT-c1":{}}}},"p6":["Best Overall","Best Active","Best Semi-Idle","Best Idle"],"Sw":["All","Single sim","Chain","Steps","Amount","Time","Time diff."],"xy":["","","","Step length: ","Amount of pubs (Chain): ","Total Time: "],"CN":["<sigma> <t1>* [t2]* ... [wsp]* ... [csr2]* \\n\\n*[r/t/m] = rho/tau/total multiplier | default tau","","","","<Number>","<Hours>","<t1> [t1], ... , <t8> [t8] or <wsp> [wsp], ... , <csr2> [csr2]","<t1> [t1], ... , <t8> [t8] or <wsp> [wsp], ... , <csr2> [csr2]","<sigma 1> <sigma 2> [ct y/n] [idle strats only y/n]"]}')}},s={};function i(e){var h=s[e];if(void 0!==h)return h.exports;var a=s[e]={exports:{}};return t[e](a,a.exports,i),a.exports}i.d=(t,s)=>{for(var e in s)i.o(s,e)&&!i.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:s[e]})},i.o=(t,s)=>Object.prototype.hasOwnProperty.call(t,s),i(93),i(936),i(179),i(473),i(10)})();